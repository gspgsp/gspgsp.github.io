import{_ as s,c as a,f as t,o as e}from"./app-BB_BIQV8.js";const p={};function l(i,n){return e(),a("div",null,n[0]||(n[0]=[t(`<p>** vue3ä¹‹<code>createInjectionState</code> çš„è¯­æ³•å’Œä½¿ç”¨æ–¹å¼**ï¼Œç»“åˆ Vue 3 ç»„åˆå¼ APIï¼Œç†è§£å®ƒçš„ç»“æ„å’Œè°ƒç”¨è§„åˆ™ã€‚æ–‡æ¡£ï¼š https://vueuse.org/shared/createInjectionState/</p><hr><h2 id="_1ï¸âƒ£-åŸºæœ¬è¯­æ³•" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-åŸºæœ¬è¯­æ³•"><span>1ï¸âƒ£ åŸºæœ¬è¯­æ³•</span></a></h2><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createInjectionState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@vueuse/core&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>useProvide<span class="token punctuation">,</span> useInject<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">createInjectionState</span><span class="token punctuation">(</span></span>
<span class="line">  setupFunction<span class="token punctuation">,</span></span>
<span class="line">  options<span class="token operator">?</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"> </span>
<span class="line">è¿™ä¸ªtså®šä¹‰å¥½äº†ï¼Œéœ€è¦ <span class="token keyword">export</span> <span class="token punctuation">{</span>useProvide<span class="token punctuation">,</span> useInject<span class="token punctuation">}</span> æˆ–è€…ç›´æ¥åœ¨æœ€å‰é¢åŠ  <span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token punctuation">[</span>useProvide<span class="token punctuation">,</span> useInject<span class="token punctuation">]</span> <span class="token operator">=</span> xxxxx</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å‚æ•°è¯´æ˜" tabindex="-1"><a class="header-anchor" href="#å‚æ•°è¯´æ˜"><span>å‚æ•°è¯´æ˜</span></a></h3><ol><li><strong><code>setupFunction</code></strong>ï¼ˆå¿…å¡«ï¼‰</li></ol><ul><li>ç±»å‹ï¼š<code>() =&gt; object</code></li><li>åŠŸèƒ½ï¼šè¿”å›ä½ è¦å…±äº«çš„çŠ¶æ€å’Œæ–¹æ³•çš„å¯¹è±¡ã€‚</li><li>ä¾‹å­ï¼š</li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>useProvideCounter<span class="token punctuation">,</span> useInjectCounter<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">createInjectionState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> count <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token keyword">const</span> <span class="token function-variable function">increment</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> count<span class="token punctuation">.</span>value<span class="token operator">++</span></span>
<span class="line">  <span class="token keyword">return</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> increment <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>è¿”å›å¯¹è±¡ <code>{ count, increment }</code> ä¼šè¢«æä¾›ç»™ç»„ä»¶æ ‘ä¸­çš„åä»£ã€‚</li></ul><hr><ol start="2"><li><strong><code>options</code></strong>ï¼ˆå¯é€‰ï¼‰</li></ol><ul><li><p>ç±»å‹ï¼š<code>{ injectionKey?: InjectionKey&lt;T&gt; | string }</code></p></li><li><p>åŠŸèƒ½ï¼š</p><ul><li>è‡ªå®šä¹‰ injection keyï¼Œä¿è¯å”¯ä¸€æ€§æˆ–è·¨æ¨¡å—ä½¿ç”¨ã€‚</li><li>é»˜è®¤æƒ…å†µä¸‹ä¼šç”Ÿæˆå†…éƒ¨å”¯ä¸€ keyã€‚</li></ul></li></ul><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>useProvide<span class="token punctuation">,</span> useInject<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">createInjectionState</span><span class="token punctuation">(</span></span>
<span class="line">  <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> count<span class="token operator">:</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">{</span> injectionKey<span class="token operator">:</span> <span class="token string">&#39;myCounter&#39;</span> <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="_2ï¸âƒ£-è¿”å›å€¼" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-è¿”å›å€¼"><span>2ï¸âƒ£ è¿”å›å€¼</span></a></h2><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts" data-title="ts"><pre><code><span class="line"><span class="token keyword">const</span> <span class="token punctuation">[</span>useProvide<span class="token punctuation">,</span> useInject<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">createInjectionState</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><p><code>useProvide()</code></p><ul><li>å¿…é¡»åœ¨â€œæä¾›çŠ¶æ€çš„ç»„ä»¶â€ä¸­è°ƒç”¨ã€‚</li><li>å†…éƒ¨æ‰§è¡Œ provideï¼ŒæŠŠ setupFunction è¿”å›çš„å¯¹è±¡æ”¾åˆ°ç»„ä»¶æ ‘ä¸Šã€‚</li><li>è¿”å› <strong>setupFunction çš„è¿”å›å¯¹è±¡</strong>ï¼Œå¯ä»¥ç›´æ¥è§£æ„çŠ¶æ€å’Œæ–¹æ³•ã€‚</li></ul></li><li><p><code>useInject()</code></p><ul><li>åœ¨ä»»ä½•åä»£ç»„ä»¶ä¸­è°ƒç”¨ã€‚</li><li>å†…éƒ¨æ‰§è¡Œ injectï¼Œè·å–çˆ¶ç»„ä»¶æä¾›çš„å¯¹è±¡ã€‚</li><li>è¿”å› <strong>setupFunction çš„è¿”å›å¯¹è±¡</strong>ï¼Œæ“ä½œåŒä¸€ä¸ªå“åº”å¼å¯¹è±¡ã€‚</li></ul></li></ul><hr><h2 id="_3ï¸âƒ£-ä½¿ç”¨ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#_3ï¸âƒ£-ä½¿ç”¨ç¤ºä¾‹"><span>3ï¸âƒ£ ä½¿ç”¨ç¤ºä¾‹</span></a></h2><h3 id="çˆ¶ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#çˆ¶ç»„ä»¶"><span>çˆ¶ç»„ä»¶</span></a></h3><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useProvideCounter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;~/composables/useCounter&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> increment <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useProvideCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Increment {{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å­ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#å­ç»„ä»¶"><span>å­ç»„ä»¶</span></a></h3><div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useInjectCounter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;~/composables/useCounter&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> count <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useInjectCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Count in child: {{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>å­ç»„ä»¶ä¸éœ€è¦ propsï¼Œä¹Ÿä¸éœ€è¦ emitã€‚</li><li>ä¿®æ”¹ <code>count</code>ï¼ˆå¦‚æœæ˜¯ refï¼‰ä¼šåŒæ­¥åæ˜ åˆ°çˆ¶ç»„ä»¶ã€‚ ** æ¯”å¦‚è¿™æ ·:<div class="language-vue line-numbers-mode" data-highlighter="prismjs" data-ext="vue" data-title="vue"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript"></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useInjectCounter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;~/composables/useCounter&#39;</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> <span class="token punctuation">{</span> count<span class="token punctuation">,</span> increment <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useInjectCounter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  <span class="token comment">// æ³¨å…¥çˆ¶ç»„ä»¶æä¾›çš„å¯¹è±¡</span></span>
<span class="line"></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>increment<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>Child Increment {{ count }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span> //å­ç»„ä»¶ä¿®æ”¹å¯¹è±¡</span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><hr><h2 id="_4ï¸âƒ£-æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#_4ï¸âƒ£-æ³¨æ„äº‹é¡¹"><span>4ï¸âƒ£ æ³¨æ„äº‹é¡¹</span></a></h2><ol><li><p><strong>å¿…é¡»å…ˆè°ƒç”¨ <code>useProvide()</code> æ‰èƒ½å®‰å…¨è°ƒç”¨ <code>useInject()</code></strong></p><ul><li>å¦åˆ™ inject ä¼šè¿”å› <code>undefined</code>ã€‚æ¯”å¦‚è¿™ä¸ªé”™è¯¯: Uncaught (in promise) TypeError: Cannot destructure property &#39;increment&#39; of &#39;useInjectCounter(...)&#39; as it is undefined.</li></ul></li><li><p><strong>å…±äº«å“åº”å¼å¯¹è±¡</strong></p><ul><li>å¦‚æœè¿”å›å¯¹è±¡åŒ…å« ref/reactiveï¼Œå­ç»„ä»¶ä¿®æ”¹ä¼šè¢«çˆ¶ç»„ä»¶æ„ŸçŸ¥ã€‚</li></ul></li><li><p><strong>å¯ç”¨äºå¤šå±‚ã€å…„å¼Ÿç»„ä»¶</strong></p><ul><li>ä¸ä¸€å®šæ˜¯çˆ¶å­ï¼Œåªè¦åœ¨åŒä¸€ä¸ªç»„ä»¶æ ‘èŒƒå›´å†…ã€‚</li></ul></li></ol><hr><h2 id="_5ï¸âƒ£-å…³äºdefaultvalueå±æ€§çš„ä½¿ç”¨-å®˜æ–¹æ–‡æ¡£ä¸‹çš„demoé‡Œæœ‰ä¸ªç”¨åˆ°defaultvalue" tabindex="-1"><a class="header-anchor" href="#_5ï¸âƒ£-å…³äºdefaultvalueå±æ€§çš„ä½¿ç”¨-å®˜æ–¹æ–‡æ¡£ä¸‹çš„demoé‡Œæœ‰ä¸ªç”¨åˆ°defaultvalue"><span>5ï¸âƒ£ å…³äºdefaultValueå±æ€§çš„ä½¿ç”¨ï¼Œå®˜æ–¹æ–‡æ¡£ä¸‹çš„demoé‡Œæœ‰ä¸ªç”¨åˆ°defaultValue</span></a></h2><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">// useCounterStore.ts</span>
<span class="line">import { createInjectionState } from &#39;@vueuse/core&#39;</span>
<span class="line">import { computed, shallowRef } from &#39;vue&#39;</span>
<span class="line"></span>
<span class="line">const [useProvideCounterStore, useCounterStore] = createInjectionState((initialValue: number) =&gt; {</span>
<span class="line">  // state</span>
<span class="line">  const count = shallowRef(initialValue)</span>
<span class="line"></span>
<span class="line">  // getters</span>
<span class="line">  const double = computed(() =&gt; count.value * 2)</span>
<span class="line"></span>
<span class="line">  // actions</span>
<span class="line">  function increment() {</span>
<span class="line">    count.value++</span>
<span class="line">  }</span>
<span class="line"></span>
<span class="line">  return { count, double, increment }</span>
<span class="line">}, { defaultValue: 10086 })</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™é‡Œçš„ defaultValue ä¸æ˜¯ç»™ initialValue ç”¨çš„, å½“æ²¡æœ‰å¯¹åº”çš„ provideï¼ˆå³ useProvideCounterStore æ²¡è°ƒç”¨ï¼‰æ—¶ï¼ŒuseCounterStore() ä¼šè¿”å› defaultValueï¼Œè€Œä¸æ˜¯ undefinedï¼Œè¿™å°±æ˜¯å®ƒçš„å”¯ä¸€ä½œç”¨å§. ä¹Ÿå°±æ˜¯è¯´ï¼š 1.defaultValue æ˜¯ inject å¤±è´¥æ—¶çš„å…œåº•å€¼ï¼ˆfallbackï¼‰ 2.å®Œå…¨ç­‰åŒäº Vue çš„ inject(key, defaultValue) 3.ç»è¿‡æµ‹è¯•ï¼Œæˆ‘å‘ç°è¿™ä¸ªdefaultValue ç›´æ¥èµ‹å€¼ç»™ useCounterStore() ä¹Ÿå°±æ˜¯ useCounterStore() = 10086, è€Œä¸æ˜¯ä¸€ä¸ªå¯ä»¥è§£æ„çš„å¯¹è±¡ï¼Œ ä¸æ˜¯{ count, double, increment }é‡Œçš„æŸä¸€ä¸ªå±æ€§ä¸º10086.</p><p>ğŸ’¡ <strong>æ€»ç»“ä¸€å¥è¯</strong>ï¼š</p><blockquote><p><code>createInjectionState(setupFunction, options?)</code> = å°è£… provide/inject çš„ç»„åˆå¼ APIï¼Œè¿”å› <code>[useProvide, useInject]</code>ï¼Œçˆ¶ç»„ä»¶æä¾›çŠ¶æ€ï¼Œå­ç»„ä»¶æˆ–åä»£ç»„ä»¶æ³¨å…¥å¹¶å¯æ“ä½œå…±äº«å“åº”å¼å¯¹è±¡ã€‚</p></blockquote><hr><h2 id="æ‹“å±•" tabindex="-1"><a class="header-anchor" href="#æ‹“å±•"><span>æ‹“å±•:</span></a></h2><ul><li>props/emit/ ã€provide/inject å’Œ createInjectionState å¯¹æ¯”</li></ul><h2 id="_1ï¸âƒ£-props-emit" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-props-emit"><span>1ï¸âƒ£ props / emit</span></a></h2><table><thead><tr><th>ç‰¹æ€§</th><th>props</th><th>emit</th></tr></thead><tbody><tr><td>æ–¹å‘</td><td>çˆ¶ â†’ å­</td><td>å­ â†’ çˆ¶</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>å•å±‚çˆ¶å­ä¼ å€¼</td><td>å­ç»„ä»¶é€šçŸ¥çˆ¶ç»„ä»¶äº‹ä»¶æˆ–çŠ¶æ€å˜åŒ–</td></tr><tr><td>ä¼˜ç‚¹</td><td>ç®€å•æ˜äº†ï¼Œå“åº”å¼</td><td>æ˜ç¡®äº‹ä»¶æµå‘</td></tr><tr><td>ç¼ºç‚¹</td><td>å¤šå±‚åµŒå¥—è¦å±‚å±‚ä¼ é€’ï¼ˆprop drillingï¼‰</td><td>å¤šå±‚åµŒå¥—ä¹Ÿè¦å±‚å±‚å†’æ³¡</td></tr></tbody></table><p><strong>æ€»ç»“</strong>ï¼šä¼ ç»Ÿæ–¹å¼ï¼Œçˆ¶å­ä¼ å€¼å•å‘ï¼Œå­çˆ¶é€šä¿¡é äº‹ä»¶ã€‚</p><hr><h2 id="_2ï¸âƒ£-provide-inject" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-provide-inject"><span>2ï¸âƒ£ provide / inject</span></a></h2><table><thead><tr><th>ç‰¹æ€§</th><th>provide / inject</th></tr></thead><tbody><tr><td>æ–¹å‘</td><td>çˆ¶ â†’ ä»»æ„åä»£ï¼ˆå•å‘ï¼‰</td></tr><tr><td>å“åº”æ€§</td><td>å¦‚æœæä¾›çš„æ˜¯ ref/reactiveï¼Œå¯¹è±¡å¯è¢«ä¿®æ”¹ â†’ çˆ¶ç»„ä»¶æ„ŸçŸ¥ï¼ˆçœ‹èµ·æ¥åƒåŒå‘ï¼‰</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>è·¨å¤šå±‚ç»„ä»¶å…±äº«çŠ¶æ€æˆ–æ–¹æ³•ï¼Œé¿å… props å±‚å±‚ä¼ é€’</td></tr><tr><td>ä¼˜ç‚¹</td><td>ç®€æ´ï¼Œæ— éœ€ä¸­è½¬ props</td></tr><tr><td>ç¼ºç‚¹</td><td>ä¸æ˜¯å¤©ç„¶çš„å…¨å±€çŠ¶æ€ï¼Œéœ€è¦åœ¨ç»„ä»¶æ ‘ä¸­å­˜åœ¨ provider</td></tr></tbody></table><p><strong>æ€»ç»“</strong>ï¼šå•å‘æä¾›ï¼Œä½†å“åº”å¼å¯¹è±¡è®©å­ç»„ä»¶ä¿®æ”¹å¯æ„ŸçŸ¥ â†’ ç±»ä¼¼åŒå‘ã€‚</p><hr><h2 id="_3ï¸âƒ£-createinjectionstate" tabindex="-1"><a class="header-anchor" href="#_3ï¸âƒ£-createinjectionstate"><span>3ï¸âƒ£ createInjectionState</span></a></h2><table><thead><tr><th>ç‰¹æ€§</th><th>createInjectionState</th></tr></thead><tbody><tr><td>æœ¬è´¨</td><td>å°è£…çš„ provide/inject + ç»„åˆå¼ API</td></tr><tr><td>æ–¹å‘</td><td>çˆ¶æä¾›çŠ¶æ€ï¼Œå­æ³¨å…¥å¹¶å¯ä¿®æ”¹å…±äº«å“åº”å¼å¯¹è±¡</td></tr><tr><td>ä½¿ç”¨åœºæ™¯</td><td>çˆ¶å­ã€å¤šå±‚ã€å…„å¼Ÿç»„ä»¶å…±äº«çŠ¶æ€ï¼›æ›´åƒå±€éƒ¨å…¨å±€çŠ¶æ€ç®¡ç†</td></tr><tr><td>å“åº”æ€§</td><td>åŒ provide/injectï¼Œå¦‚æœå…±äº«çš„æ˜¯ ref/reactiveï¼Œä¿®æ”¹å¯è¢«çˆ¶ç»„ä»¶/å…¶ä»–ç»„ä»¶æ„ŸçŸ¥</td></tr><tr><td>ä¼˜ç‚¹</td><td>å°è£…äº† provide/injectï¼Œç›´æ¥è¿”å›çŠ¶æ€å¯¹è±¡å’Œæ–¹æ³•ï¼Œä½¿ç”¨æ–¹ä¾¿</td></tr><tr><td>ç¼ºç‚¹</td><td>ä»ä¾èµ–ç»„ä»¶æ ‘ï¼ˆä¸æ˜¯å…¨å±€å•ä¾‹ï¼‰ï¼Œå…¨å±€è·¨æ¨¡å—éœ€ç”¨ Pinia/Vuex æˆ–å…¨å±€ ref</td></tr></tbody></table><p><strong>æ€»ç»“</strong>ï¼š</p><ul><li><strong>props + emit çš„å¢å¼ºç‰ˆ</strong></li><li>çˆ¶ç»„ä»¶æä¾›çŠ¶æ€ â†’ å­ç»„ä»¶æ³¨å…¥å¹¶å¯æ³¨å†Œ/ä¿®æ”¹</li><li>çˆ¶ç»„ä»¶è¯»å–å…¨å±€çŠ¶æ€ â†’ ç±»ä¼¼åŒå‘é€šä¿¡</li><li>å¯ä»¥è·¨çˆ¶å­ã€å…„å¼Ÿã€å¤šå±‚ç»„ä»¶å…±äº«å“åº”å¼çŠ¶æ€</li><li><strong>è¯­ä¹‰ä¸Šæ›´åƒç»„åˆå¼ API çš„â€œçˆ¶å­å…±äº«çŠ¶æ€å·¥å…·â€</strong></li></ul><hr><h3 id="ğŸ’¡-æ ¸å¿ƒç»“è®º" tabindex="-1"><a class="header-anchor" href="#ğŸ’¡-æ ¸å¿ƒç»“è®º"><span>ğŸ’¡ æ ¸å¿ƒç»“è®º</span></a></h3><ol><li><strong>props / emit</strong> = çˆ¶å­å•å‘é€šä¿¡ + å­çˆ¶äº‹ä»¶</li><li><strong>provide / inject</strong> = è·¨å¤šå±‚å•å‘æä¾› + å“åº”å¼å¯¹è±¡å¯â€œçœ‹èµ·æ¥åŒå‘â€</li><li><strong>createInjectionState</strong> = å°è£… provide/injectï¼Œæ–¹ä¾¿ç»„åˆå¼ API ä½¿ç”¨ï¼Œçˆ¶å­/å¤šå±‚/å…„å¼Ÿéƒ½å¯ä»¥å…±äº«çŠ¶æ€ï¼Œç±»ä¼¼ props + emit çš„ç»“åˆä½“ã€‚</li></ol>`,51)]))}const o=s(p,[["render",l],["__file","vue3ä¹‹createInjectionStateçš„ä½¿ç”¨.html.vue"]]),u=JSON.parse('{"path":"/content/front/js/vue3%E4%B9%8BcreateInjectionState%E7%9A%84%E4%BD%BF%E7%94%A8.html","title":"vue3ä¹‹createInjectionStateçš„ä½¿ç”¨","lang":"en-US","frontmatter":{"sidebar":false,"title":"vue3ä¹‹createInjectionStateçš„ä½¿ç”¨","head":[["meta",{"name":"title","content":"vue3ä¹‹createInjectionStateçš„ä½¿ç”¨"}],["meta",{"name":"description","content":"vue3ä¹‹createInjectionStateçš„ä½¿ç”¨"}],["meta",{"name":"keywords","content":"vue3ä¹‹createInjectionStateçš„ä½¿ç”¨"}],["meta",{"property":"og:title","content":"vue3ä¹‹createInjectionStateçš„ä½¿ç”¨"}],["meta",{"property":"og:description","content":"vue3ä¹‹createInjectionStateçš„ä½¿ç”¨"}]]},"headers":[{"level":2,"title":"1ï¸âƒ£ åŸºæœ¬è¯­æ³•","slug":"_1ï¸âƒ£-åŸºæœ¬è¯­æ³•","link":"#_1ï¸âƒ£-åŸºæœ¬è¯­æ³•","children":[{"level":3,"title":"å‚æ•°è¯´æ˜","slug":"å‚æ•°è¯´æ˜","link":"#å‚æ•°è¯´æ˜","children":[]}]},{"level":2,"title":"2ï¸âƒ£ è¿”å›å€¼","slug":"_2ï¸âƒ£-è¿”å›å€¼","link":"#_2ï¸âƒ£-è¿”å›å€¼","children":[]},{"level":2,"title":"3ï¸âƒ£ ä½¿ç”¨ç¤ºä¾‹","slug":"_3ï¸âƒ£-ä½¿ç”¨ç¤ºä¾‹","link":"#_3ï¸âƒ£-ä½¿ç”¨ç¤ºä¾‹","children":[{"level":3,"title":"çˆ¶ç»„ä»¶","slug":"çˆ¶ç»„ä»¶","link":"#çˆ¶ç»„ä»¶","children":[]},{"level":3,"title":"å­ç»„ä»¶","slug":"å­ç»„ä»¶","link":"#å­ç»„ä»¶","children":[]}]},{"level":2,"title":"4ï¸âƒ£ æ³¨æ„äº‹é¡¹","slug":"_4ï¸âƒ£-æ³¨æ„äº‹é¡¹","link":"#_4ï¸âƒ£-æ³¨æ„äº‹é¡¹","children":[]},{"level":2,"title":"5ï¸âƒ£ å…³äºdefaultValueå±æ€§çš„ä½¿ç”¨ï¼Œå®˜æ–¹æ–‡æ¡£ä¸‹çš„demoé‡Œæœ‰ä¸ªç”¨åˆ°defaultValue","slug":"_5ï¸âƒ£-å…³äºdefaultvalueå±æ€§çš„ä½¿ç”¨-å®˜æ–¹æ–‡æ¡£ä¸‹çš„demoé‡Œæœ‰ä¸ªç”¨åˆ°defaultvalue","link":"#_5ï¸âƒ£-å…³äºdefaultvalueå±æ€§çš„ä½¿ç”¨-å®˜æ–¹æ–‡æ¡£ä¸‹çš„demoé‡Œæœ‰ä¸ªç”¨åˆ°defaultvalue","children":[]},{"level":2,"title":"æ‹“å±•:","slug":"æ‹“å±•","link":"#æ‹“å±•","children":[]},{"level":2,"title":"1ï¸âƒ£ props / emit","slug":"_1ï¸âƒ£-props-emit","link":"#_1ï¸âƒ£-props-emit","children":[]},{"level":2,"title":"2ï¸âƒ£ provide / inject","slug":"_2ï¸âƒ£-provide-inject","link":"#_2ï¸âƒ£-provide-inject","children":[]},{"level":2,"title":"3ï¸âƒ£ createInjectionState","slug":"_3ï¸âƒ£-createinjectionstate","link":"#_3ï¸âƒ£-createinjectionstate","children":[{"level":3,"title":"ğŸ’¡ æ ¸å¿ƒç»“è®º","slug":"ğŸ’¡-æ ¸å¿ƒç»“è®º","link":"#ğŸ’¡-æ ¸å¿ƒç»“è®º","children":[]}]}],"git":{},"filePathRelative":"content/front/js/vue3ä¹‹createInjectionStateçš„ä½¿ç”¨.md"}');export{o as comp,u as data};
