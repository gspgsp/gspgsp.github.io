import{_ as s,c as n,f as a,o as l}from"./app-BB_BIQV8.js";const i={};function t(p,e){return l(),n("div",null,e[0]||(e[0]=[a(`<h3 id="å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†" tabindex="-1"><a class="header-anchor" href="#å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†"><span>å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†</span></a></h3><p>ä¸»è¦å‘½ä»¤:</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">ffmpeg <span class="token parameter variable">-i</span> input.mp4 <span class="token punctuation">\\</span></span>
<span class="line">       <span class="token parameter variable">-hls_time</span> <span class="token number">10</span> <span class="token punctuation">\\</span></span>
<span class="line">       <span class="token parameter variable">-hls_key_info_file</span> keyinfo.txt <span class="token punctuation">\\</span></span>
<span class="line">       <span class="token parameter variable">-hls_playlist_type</span> vod <span class="token punctuation">\\</span></span>
<span class="line">       output.m3u8</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><p>ä»”ç»†åˆ†æä¸€ä¸‹è¿™æ¡ <code>ffmpeg</code> å‘½ä»¤ï¼Œæ¯ä¸ªå‚æ•°çš„ä½œç”¨éƒ½è¯´æ˜æ¸…æ¥šï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line">ffmpeg <span class="token parameter variable">-i</span> input.mp4 <span class="token punctuation">\\</span></span>
<span class="line">       <span class="token parameter variable">-hls_time</span> <span class="token number">10</span> <span class="token punctuation">\\</span></span>
<span class="line">       <span class="token parameter variable">-hls_key_info_file</span> keyinfo.txt <span class="token punctuation">\\</span></span>
<span class="line">       <span class="token parameter variable">-hls_playlist_type</span> vod <span class="token punctuation">\\</span></span>
<span class="line">       output.m3u8</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_1ï¸âƒ£-ffmpeg" tabindex="-1"><a class="header-anchor" href="#_1ï¸âƒ£-ffmpeg"><span>1ï¸âƒ£ <code>ffmpeg</code></span></a></h3><ul><li>è°ƒç”¨ <code>ffmpeg</code> å·¥å…·è¿›è¡ŒéŸ³è§†é¢‘å¤„ç†å’Œè½¬ç </li><li>å¯ä»¥å¤„ç† MP4ã€MKVã€MOV ç­‰å„ç§è§†é¢‘æ ¼å¼</li></ul><h3 id="_2ï¸âƒ£-i-input-mp4" tabindex="-1"><a class="header-anchor" href="#_2ï¸âƒ£-i-input-mp4"><span>2ï¸âƒ£ <code>-i input.mp4</code></span></a></h3><ul><li>æŒ‡å®šè¾“å…¥æ–‡ä»¶ <code>input.mp4</code></li><li>è¿™æ˜¯ä½ è¦è½¬ HLS çš„åŸå§‹è§†é¢‘</li></ul><h3 id="_3ï¸âƒ£-hls-time-10" tabindex="-1"><a class="header-anchor" href="#_3ï¸âƒ£-hls-time-10"><span>3ï¸âƒ£ <code>-hls_time 10</code></span></a></h3><ul><li><strong>æ¯ä¸ª HLS ç‰‡æ®µçš„æ—¶é•¿</strong>ï¼Œå•ä½æ˜¯ç§’</li><li>ä¸Šä¾‹ä¸­è®¾ç½®ä¸º 10 ç§’ â†’ è§†é¢‘ä¼šè¢«åˆ‡æˆ 10 ç§’ä¸€æ®µçš„ <code>.ts</code> æ–‡ä»¶</li><li>åˆ‡ç‰‡å¤ªçŸ­ï¼šè¯·æ±‚æ¬¡æ•°å¤šï¼ŒCPU/å¸¦å®½å‹åŠ›å¤§</li><li>åˆ‡ç‰‡å¤ªé•¿ï¼šå¿«è¿›å“åº”æ…¢</li></ul><h3 id="_4ï¸âƒ£-hls-key-info-file-keyinfo-txt" tabindex="-1"><a class="header-anchor" href="#_4ï¸âƒ£-hls-key-info-file-keyinfo-txt"><span>4ï¸âƒ£ <code>-hls_key_info_file keyinfo.txt</code></span></a></h3><ul><li><strong>AES-128 åŠ å¯†çš„ key ä¿¡æ¯</strong></li><li><code>keyinfo.txt</code> æ–‡ä»¶å†…å®¹æ ¼å¼ï¼š</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">/absolute/path/to/local.key   # ç”Ÿæˆçš„ AES-128 key æ–‡ä»¶åœ¨æœ¬åœ°è·¯å¾„</span>
<span class="line">http://your-server.com/key.key # æ’­æ”¾å™¨è¯·æ±‚ key çš„ URL</span>
<span class="line">iv=00000000000000000000000000000001 # å¯é€‰ IVï¼ˆåˆå§‹åŒ–å‘é‡ï¼‰</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>ffmpeg ä¼šç”¨è¿™ä¸ª key å¯¹ç”Ÿæˆçš„ <code>.ts</code> ç‰‡æ®µè¿›è¡Œ AES-128 åŠ å¯†</li><li>æ’­æ”¾å™¨åœ¨æ’­æ”¾ <code>.m3u8</code> æ—¶ä¼šé€šè¿‡ <code>key URI</code> ä¸‹è½½ key è§£å¯†</li></ul><h3 id="_5ï¸âƒ£-hls-playlist-type-vod" tabindex="-1"><a class="header-anchor" href="#_5ï¸âƒ£-hls-playlist-type-vod"><span>5ï¸âƒ£ <code>-hls_playlist_type vod</code></span></a></h3><ul><li>è®¾ç½® HLS æ’­æ”¾åˆ—è¡¨ç±»å‹ä¸º <strong>ç‚¹æ’­ï¼ˆVODï¼‰</strong></li><li>ç”Ÿæˆå®Œæ•´ <code>.m3u8</code> åˆ—è¡¨ï¼Œé€‚åˆç‚¹æ’­è§†é¢‘</li><li>å¦‚æœæ˜¯ç›´æ’­å¯ä»¥ä½¿ç”¨ <code>-hls_playlist_type event</code> æˆ–ä¸æŒ‡å®š</li></ul><h3 id="_6ï¸âƒ£-output-m3u8" tabindex="-1"><a class="header-anchor" href="#_6ï¸âƒ£-output-m3u8"><span>6ï¸âƒ£ <code>output.m3u8</code></span></a></h3><ul><li>è¾“å‡ºæ’­æ”¾åˆ—è¡¨æ–‡ä»¶ï¼ˆm3u8ï¼‰</li><li>é‡Œé¢åŒ…å«æ‰€æœ‰åˆ‡ç‰‡çš„è·¯å¾„ä¿¡æ¯ï¼ˆts æ–‡ä»¶ï¼‰å’ŒåŠ å¯† key URI</li><li>æµè§ˆå™¨ / HLS æ’­æ”¾å™¨ä¼šè¯»å– m3u8ï¼Œç„¶åæŒ‰é¡ºåºè¯·æ±‚ ts ç‰‡æ®µæ’­æ”¾</li></ul><h3 id="ğŸ”¹-è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ğŸ”¹-è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹"><span>ğŸ”¹ è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹</span></a></h3><p>å‡è®¾è¾“å…¥è§†é¢‘ 30 ç§’ï¼Œ<code>-hls_time 10</code>ï¼Œç”Ÿæˆï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">output.m3u8</span>
<span class="line">segment0.ts</span>
<span class="line">segment1.ts</span>
<span class="line">segment2.ts</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>output.m3u8</code> å†…å®¹ç±»ä¼¼ï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">#EXTM3U</span>
<span class="line">#EXT-X-VERSION:3</span>
<span class="line">#EXT-X-TARGETDURATION:10</span>
<span class="line">#EXT-X-KEY:METHOD=AES-128,URI=&quot;http://your-server.com/key.key&quot;</span>
<span class="line">#EXTINF:10.0,</span>
<span class="line">segment0.ts</span>
<span class="line">#EXTINF:10.0,</span>
<span class="line">segment1.ts</span>
<span class="line">#EXTINF:10.0,</span>
<span class="line">segment2.ts</span>
<span class="line">#EXT-X-ENDLIST</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>#EXT-X-KEY</code>ï¼šæŒ‡å®šåŠ å¯†æ–¹å¼å’Œ key URI</li><li><code>#EXTINF</code>ï¼šæ¯ä¸ª ts ç‰‡æ®µçš„æ—¶é•¿</li><li>æ’­æ”¾å™¨è‡ªåŠ¨æŒ‰é¡ºåºè¯·æ±‚ ts å¹¶è§£å¯†æ’­æ”¾</li></ul>`,26)]))}const c=s(i,[["render",t],["__file","å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†.html.vue"]]),r=JSON.parse('{"path":"/content/tool/back/%E5%AE%9E%E7%8E%B0%E6%9C%AC%E5%9C%B0%E8%A7%86%E9%A2%91%E7%82%B9%E6%92%AD%E5%8E%9F%E7%90%86.html","title":"å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†","lang":"en-US","frontmatter":{"sidebar":false,"title":"å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†","head":[["meta",{"name":"title","content":"å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†"}],["meta",{"name":"description","content":"å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†"}],["meta",{"name":"keywords","content":"å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†"}],["meta",{"property":"og:title","content":"å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†"}],["meta",{"property":"og:description","content":"å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†"}]]},"headers":[{"level":3,"title":"å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†","slug":"å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†","link":"#å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†","children":[]},{"level":3,"title":"1ï¸âƒ£ ffmpeg","slug":"_1ï¸âƒ£-ffmpeg","link":"#_1ï¸âƒ£-ffmpeg","children":[]},{"level":3,"title":"2ï¸âƒ£ -i input.mp4","slug":"_2ï¸âƒ£-i-input-mp4","link":"#_2ï¸âƒ£-i-input-mp4","children":[]},{"level":3,"title":"3ï¸âƒ£ -hls_time 10","slug":"_3ï¸âƒ£-hls-time-10","link":"#_3ï¸âƒ£-hls-time-10","children":[]},{"level":3,"title":"4ï¸âƒ£ -hls_key_info_file keyinfo.txt","slug":"_4ï¸âƒ£-hls-key-info-file-keyinfo-txt","link":"#_4ï¸âƒ£-hls-key-info-file-keyinfo-txt","children":[]},{"level":3,"title":"5ï¸âƒ£ -hls_playlist_type vod","slug":"_5ï¸âƒ£-hls-playlist-type-vod","link":"#_5ï¸âƒ£-hls-playlist-type-vod","children":[]},{"level":3,"title":"6ï¸âƒ£ output.m3u8","slug":"_6ï¸âƒ£-output-m3u8","link":"#_6ï¸âƒ£-output-m3u8","children":[]},{"level":3,"title":"ğŸ”¹ è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹","slug":"ğŸ”¹-è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹","link":"#ğŸ”¹-è¾“å‡ºæ–‡ä»¶ç¤ºä¾‹","children":[]}],"git":{},"filePathRelative":"content/tool/back/å®ç°æœ¬åœ°è§†é¢‘ç‚¹æ’­åŸç†.md"}');export{c as comp,r as data};
