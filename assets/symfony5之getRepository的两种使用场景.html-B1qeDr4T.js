import{_ as n,c as a,d as t,o as p}from"./app-CHrRue27.js";const o={};function e(c,s){return p(),a("div",null,s[0]||(s[0]=[t(`<p>symfony5之getRepository的两种使用场景:</p><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line">symfony5的getRepository的两种使用场景，之前一直用的是第一种，其实有时候需要关联查询，可以直接用 createQueryBuilder 查询，如下第二种方式，第三种方式需要手动指定 from 的Entity</span>
<span class="line"></span>
<span class="line"><span class="token comment">//方式1</span></span>
<span class="line"><span class="token variable">$pagination</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">entityManager</span><span class="token operator">-&gt;</span><span class="token function">getRepository</span><span class="token punctuation">(</span><span class="token class-name static-context">Course</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getPagination</span><span class="token punctuation">(</span><span class="token variable">$params</span><span class="token punctuation">,</span> <span class="token variable">$request</span><span class="token operator">-&gt;</span><span class="token property">query</span><span class="token operator">-&gt;</span><span class="token function">getInt</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;page&#39;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line"><span class="token comment">//方式2</span></span>
<span class="line"><span class="token variable">$res</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">entityManager</span><span class="token operator">-&gt;</span><span class="token function">getRepository</span><span class="token punctuation">(</span><span class="token class-name static-context">Course</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">createQueryBuilder</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;c&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">leftJoin</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;c.courseManages&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;cm&quot;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;c.id = 1&#39;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;c.id&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;cm.type&quot;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line">  </span>
<span class="line"><span class="token comment">//方式3</span></span>
<span class="line"><span class="token variable">$res</span> <span class="token operator">=</span> <span class="token variable">$this</span><span class="token operator">-&gt;</span><span class="token property">entityManager</span><span class="token operator">-&gt;</span><span class="token function">createQueryBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">from</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;App:Course&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;c&quot;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">leftJoin</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;c.courseManages&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;cm&quot;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;c.id = 1&quot;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string double-quoted-string">&quot;c.id&quot;</span><span class="token punctuation">,</span> <span class="token string double-quoted-string">&quot;cm.type&quot;</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-&gt;</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2)]))}const i=n(o,[["render",e],["__file","symfony5之getRepository的两种使用场景.html.vue"]]),u=JSON.parse('{"path":"/content/php/symfony/symfony5%E4%B9%8BgetRepository%E7%9A%84%E4%B8%A4%E7%A7%8D%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF.html","title":"symfony5之getRepository的两种使用场景","lang":"en-US","frontmatter":{"sidebar":false,"title":"symfony5之getRepository的两种使用场景","description":"symfony5之getRepository的两种使用场景"},"headers":[],"git":{},"filePathRelative":"content/php/symfony/symfony5之getRepository的两种使用场景.md"}');export{i as comp,u as data};
