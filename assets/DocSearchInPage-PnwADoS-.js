import{d as v,g as f,w as y,e as w,_ as S,o as d,c as _,j as g,v as C,b as I,F as D,m as b,k as T,t as B}from"./app-BB_BIQV8.js";const k=6,E=v({__name:"DocSearchInPage",setup(x,{expose:c}){c();const m=f(""),t=f([]),a=f([]);function p(){const o=document.querySelector(".theme-default-content");if(!o)return;const u=[],i=new Set,h=(n,r)=>{const e=n.trim();!e||i.has(e)||(i.add(e),u.push({text:e,element:r}))};o.querySelectorAll("h2, h3").forEach(n=>{var e;const r=(e=n.textContent)==null?void 0:e.trim();r&&h(r,n)}),o.querySelectorAll("p, li, blockquote").forEach(n=>{var e;if(n.closest("pre, code"))return;const r=(e=n.textContent)==null?void 0:e.trim();!r||r.length<k||h(r,n)}),a.value=u}y(m,o=>{if(!o){t.value=[];return}const u=o.toLowerCase();t.value=a.value.filter(i=>i.text.toLowerCase().includes(u)).slice(0,20)});function s(o){o.element.scrollIntoView({behavior:"smooth",block:"start"})}w(()=>{p()});const l={keyword:m,results:t,sourceItems:a,MIN_TEXT_LENGTH:k,collectSearchItems:p,jumpTo:s};return Object.defineProperty(l,"__isScriptSetup",{enumerable:!1,value:!0}),l}}),j={class:"doc-search-in-page"},q={key:0,class:"result-list"},L=["onClick"];function N(x,c,m,t,a,p){return d(),_("div",j,[g(I("input",{"onUpdate:modelValue":c[0]||(c[0]=s=>t.keyword=s),type:"text",placeholder:"搜索当前页面内容"},null,512),[[C,t.keyword]]),t.results.length?(d(),_("ul",q,[(d(!0),_(D,null,b(t.results,(s,l)=>(d(),_("li",{key:l,onClick:o=>t.jumpTo(s)},B(s.text),9,L))),128))])):T("",!0)])}const V=S(E,[["render",N],["__scopeId","data-v-5ae2c6a6"],["__file","DocSearchInPage.vue"]]);export{V as default};
