import{_ as e,c as n,d as a,o as i}from"./app-CHrRue27.js";const l={};function c(t,s){return i(),n("div",null,s[0]||(s[0]=[a(`<h5 id="semantic-release的使用" tabindex="-1"><a class="header-anchor" href="#semantic-release的使用"><span>semantic-release的使用</span></a></h5><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">1.安装</span>
<span class="line">npm install semantic-release</span>
<span class="line">根据需要还需要单独安装</span>
<span class="line">&quot;@semantic-release/changelog&quot;,</span>
<span class="line">&quot;@semantic-release/npm&quot;,</span>
<span class="line">&quot;@semantic-release/git&quot;,</span>
<span class="line">&quot;@semantic-release/github&quot;</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">下面这两个，semantic-release 会间接依赖，然后安装</span>
<span class="line">&quot;@semantic-release/commit-analyzer&quot;,</span>
<span class="line">&quot;@semantic-release/release-notes-generator&quot;,</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">2.配置文件 .releaserc.json</span>
<span class="line">类似下面的结构(根据实际情况调整)</span>
<span class="line">&quot;release&quot;: {</span>
<span class="line">  &quot;branches&quot;: [&quot;main&quot;, &quot;next&quot;],</span>
<span class="line">  &quot;plugins&quot;: [</span>
<span class="line">    &quot;@semantic-release/commit-analyzer&quot;,</span>
<span class="line">    &quot;@semantic-release/release-notes-generator&quot;,</span>
<span class="line">    &quot;@semantic-release/changelog&quot;,</span>
<span class="line">    &quot;@semantic-release/npm&quot;,</span>
<span class="line">    &quot;@semantic-release/git&quot;,</span>
<span class="line">    &quot;@semantic-release/github&quot;</span>
<span class="line">  ]</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">目前我项目配置:</span>
<span class="line">{</span>
<span class="line">  &quot;branches&quot;: [&quot;master&quot;],</span>
<span class="line">  &quot;plugins&quot;: [</span>
<span class="line">    &quot;@semantic-release/commit-analyzer&quot;,</span>
<span class="line">    &quot;@semantic-release/release-notes-generator&quot;,</span>
<span class="line">    [</span>
<span class="line">      &quot;@semantic-release/changelog&quot;,</span>
<span class="line">      {</span>
<span class="line">        &quot;changelogFile&quot;: &quot;docs/CHANGELOG.md&quot;</span>
<span class="line">      }</span>
<span class="line">    ],</span>
<span class="line">    [</span>
<span class="line">      &quot;@semantic-release/gitlab&quot;,</span>
<span class="line">      {</span>
<span class="line">        &quot;gitlabUrl&quot;: &quot;https://gitlab.duoxiaozhan.com:8081&quot;,</span>
<span class="line">        &quot;gitlabApiPathPrefix&quot;: &quot;/api/v4/&quot;,</span>
<span class="line">        &quot;verifyConditions&quot;: [],</span>
<span class="line">        &quot;failComment&quot;: false,</span>
<span class="line">        &quot;failTitle&quot;: false,</span>
<span class="line">        &quot;assets&quot;: [</span>
<span class="line">          { &quot;path&quot;: &quot;dist/*&quot;, &quot;label&quot;: &quot;Built assets&quot; },</span>
<span class="line">          { &quot;path&quot;: &quot;docs/CHANGELOG.md&quot;, &quot;label&quot;: &quot;Changelog&quot; },</span>
<span class="line">          { &quot;path&quot;: &quot;package.json&quot;, &quot;label&quot;: &quot;package.json&quot; }</span>
<span class="line">        ]</span>
<span class="line">      }</span>
<span class="line">    ],</span>
<span class="line">    &quot;@semantic-release/npm&quot;,</span>
<span class="line">    [</span>
<span class="line">      &quot;@semantic-release/git&quot;,</span>
<span class="line">      {</span>
<span class="line">        &quot;assets&quot;: [&quot;package.json&quot;, &quot;docs/CHANGELOG.md&quot;, &quot;dist/*&quot;],</span>
<span class="line">        &quot;message&quot;: &quot;chore(release): \${nextRelease.version} [skip ci]\\n\\n\${nextRelease.notes}&quot;</span>
<span class="line">      }</span>
<span class="line">    ]</span>
<span class="line">  ]</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">重点说下</span>
<span class="line">@semantic-release/npm 会在发布 npm 包时 自动调用 npm 命令（如 npm publish 或 npm pack）来上传包。</span>
<span class="line">它会在当前环境（CI 或本地）寻找 .npmrc 文件，使用其中的配置和认证信息</span>
<span class="line"></span>
<span class="line">对于 .npmrc: 可以配置私有仓库的地址以及token信息</span>
<span class="line"></span>
<span class="line"></span>
<span class="line">3.执行</span>
<span class="line">&quot;scripts&quot;: {</span>
<span class="line">  &quot;semantic-release&quot;: &quot;semantic-release&quot;</span>
<span class="line">}</span>
<span class="line"></span>
<span class="line">npm run semantic-release</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="在git提交的使用分析" tabindex="-1"><a class="header-anchor" href="#在git提交的使用分析"><span>在git提交的使用分析</span></a></h5><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">这条 Git 提交记录：</span>
<span class="line">chore(release): 3.10.0 [skip ci]</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>遵循了 <a href="https://www.conventionalcommits.org/en/v1.0.0/" target="_blank" rel="noopener noreferrer">Conventional Commits</a> 规范，并具有以下含义：</p><hr><h3 id="✅-各部分含义解析" tabindex="-1"><a class="header-anchor" href="#✅-各部分含义解析"><span>✅ 各部分含义解析：</span></a></h3><h4 id="_1-chore" tabindex="-1"><a class="header-anchor" href="#_1-chore"><span>1. <code>chore</code></span></a></h4><p>这是 <strong>提交类型（type）</strong>，表示“杂项/构建任务”，不影响代码逻辑，例如构建、依赖升级、脚本更新等。</p><p>常见类型包括：</p><ul><li><code>feat</code>：新增功能</li><li><code>fix</code>：修复 bug</li><li><code>docs</code>：文档更新</li><li><code>style</code>：代码格式修改（不影响功能）</li><li><code>refactor</code>：重构</li><li><code>test</code>：测试代码变更</li><li><code>chore</code>：其他不属于以上类型的杂项</li></ul><h4 id="_2-release" tabindex="-1"><a class="header-anchor" href="#_2-release"><span>2. <code>(release)</code></span></a></h4><p>这是 <strong>可选的作用域（scope）</strong>，指此次提交影响的是“发布流程”相关的内容。</p><h4 id="_3-3-10-0" tabindex="-1"><a class="header-anchor" href="#_3-3-10-0"><span>3. <code>3.10.0</code></span></a></h4><p>这是 <strong>提交说明（description）</strong>，说明这是一次版本发布，发布的是 <code>v3.10.0</code>。</p><p>通常，这类提交是由自动化工具（如 <code>semantic-release</code> 或 <code>standard-version</code>）在发布版本时生成的。</p><h4 id="_4-skip-ci" tabindex="-1"><a class="header-anchor" href="#_4-skip-ci"><span>4. <code>[skip ci]</code></span></a></h4><p>这是一个特殊的标记，用于告诉 CI 工具（如 GitLab CI、GitHub Actions、CircleCI 等）<strong>跳过此次提交的 CI/CD 流程</strong>，因为这个提交只是用于发布，不需要运行构建或测试。</p><hr><h3 id="🚀-总结这条提交做了什么" tabindex="-1"><a class="header-anchor" href="#🚀-总结这条提交做了什么"><span>🚀 总结这条提交做了什么：</span></a></h3><p>这条提交说明：</p><ul><li>类型是 <code>chore</code>，代表杂项；</li><li>作用是 <code>release</code>，说明它是版本发布相关的更改；</li><li>发布的版本是 <code>3.10.0</code>；</li><li><code>[skip ci]</code> 表示这次提交不需要运行 CI；</li><li>极可能是自动工具生成的，不是手动写的。</li></ul><hr><h3 id="✅-这类提交的常见用途" tabindex="-1"><a class="header-anchor" href="#✅-这类提交的常见用途"><span>✅ 这类提交的常见用途：</span></a></h3><ul><li>自动发布版本并打 Tag；</li><li>自动更新 <code>CHANGELOG.md</code>；</li><li>和语义版本工具搭配使用（如 <code>semantic-release</code>, <code>standard-version</code>）；</li><li>保持 changelog、tag 和 package.json 版本号一致。</li></ul><hr><p>如果使用了 <code>semantic-release</code> 或类似工具来做自动版本管理，那么这种提交会自动出现在每次发布流程中。</p>`,28)]))}const o=e(l,[["render",c],["__file","semantic-release的使用.html.vue"]]),r=JSON.parse('{"path":"/content/tool/front/semantic-release%E7%9A%84%E4%BD%BF%E7%94%A8.html","title":"semantic-release的使用","lang":"en-US","frontmatter":{"sidebar":false,"title":"semantic-release的使用","head":[["meta",{"name":"title","content":"semantic-release的使用"}],["meta",{"name":"description","content":"semantic-release的使用"}],["meta",{"name":"keywords","content":"semantic"}],["meta",{"property":"og:title","content":"semantic-release的使用"}],["meta",{"property":"og:description","content":"semantic-release的使用"}]]},"headers":[{"level":3,"title":"✅ 各部分含义解析：","slug":"✅-各部分含义解析","link":"#✅-各部分含义解析","children":[]},{"level":3,"title":"🚀 总结这条提交做了什么：","slug":"🚀-总结这条提交做了什么","link":"#🚀-总结这条提交做了什么","children":[]},{"level":3,"title":"✅ 这类提交的常见用途：","slug":"✅-这类提交的常见用途","link":"#✅-这类提交的常见用途","children":[]}],"git":{},"filePathRelative":"content/tool/front/semantic-release的使用.md"}');export{o as comp,r as data};
