import{E as v}from"./jspdf.es.min-CeXf4hFi.js";import{_ as S,e as p,o as c,c as d,b as e,f as h,F as I,x as F,i as P}from"./app-CHrRue27.js";const k={__name:"ImageToPdf",setup(b,{expose:o}){o();const t=p([]),a=p(null),m=s=>{const n=s.target.files;for(let l=0;l<n.length;l++){const i=new FileReader;i.onload=f=>{t.value.push(f.target.result)},i.readAsDataURL(n[l])}},_=()=>{if(t.value.length===0){alert("请先选择图片！");return}const s=new v;t.value.forEach((i,f)=>{f!==0&&s.addPage(),s.addImage(i,"PNG",10,10,180,160,void 0,"HIGH")});const n=new Date,l=`${n.getFullYear()}${String(n.getMonth()+1).padStart(2,"0")}${String(n.getDate()).padStart(2,"0")}_${String(n.getHours()).padStart(2,"0")}${String(n.getMinutes()).padStart(2,"0")}${String(n.getSeconds()).padStart(2,"0")}`;s.save(`converted_at_${l}.pdf`)},u=s=>{t.value.length&&(t.value.splice(s,1),t.value.length===0&&r())},r=()=>{t.value=[],a.value.value=null},g={images:t,fileInput:a,onFileChange:m,generatePDF:_,removeImage:u,clearImages:r,ref:p,get jsPDF(){return v}};return Object.defineProperty(g,"__isScriptSetup",{enumerable:!1,value:!0}),g}},w={class:"container"},C={for:"fileUpload",class:"custom-upload-btn"},D={key:0,class:"preview-container"},x={class:"preview"},$=["src"],T=["onClick"];function y(b,o,t,a,m,_){return c(),d("div",w,[o[2]||(o[2]=e("p",null,"图片转PDF工具",-1)),e("label",C,[o[0]||(o[0]=h(" 选择图片 ")),e("input",{id:"fileUpload",type:"file",ref:"fileInput",onChange:a.onFileChange,multiple:"",accept:"image/*",class:"file-input"},null,544)]),e("div",{class:"button-group"},[e("button",{onClick:a.generatePDF,class:"btn btn-download"},"下载 PDF"),e("button",{onClick:a.clearImages,class:"btn btn-clear"},"清理全部")]),a.images.length?(c(),d("div",D,[o[1]||(o[1]=e("p",null,"预览：",-1)),e("div",x,[(c(!0),d(I,null,F(a.images,(u,r)=>(c(),d("div",{key:r,class:"image-box"},[e("img",{src:u,class:"preview-image"},null,8,$),e("button",{onClick:g=>a.removeImage(r),class:"btn btn-remove"},"删除",8,T)]))),128))])])):P("",!0)])}const E=S(k,[["render",y],["__scopeId","data-v-facdebf0"],["__file","ImageToPdf.vue"]]);export{E as default};
