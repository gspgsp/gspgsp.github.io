import{_ as t,c as l,f as s,o as a}from"./app-BB_BIQV8.js";const i={};function n(m,e){return a(),l("div",null,e[0]||(e[0]=[s(`<p>mysql5.7下，之情迁移文件的时候报错:</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">1067 Invalid default value for &#39;created_at&#39; (SQL: alter table d_slides modify column created_at TIMESTAMP DEFAULT NULL)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这个在mysql8下没有问题，但是在mysql5.7下有问题，还来发现需要把 /etc/my.cnf下的 mysqld 添加如下配置:<br> explicit_defaults_for_timestamp = ON</p><p>然后重启: systemctl restart mysqld</p><p>再次执行迁移文件，没有任何问题</p><p>关于这个参数:<br> 默认情况下,timestamp 类型字段所在数据行被更新时，该字段会自动更新为当前时间，而参数explicit_defaults_for_timestamp控制这一种行为。<br> explicit_defaults_for_timestamp=off，数据行更新时，timestamp类型字段更新为当前时间；<br> explicit_defaults_for_timestamp=on，数据行更新时，timestamp类型字段不更新为当前时间。</p>`,6)]))}const d=t(i,[["render",n],["__file","mysql之5-7下TIMESTAMP设置默认值为null的问题.html.vue"]]),p=JSON.parse('{"path":"/content/database/mysql/mysql%E4%B9%8B5-7%E4%B8%8BTIMESTAMP%E8%AE%BE%E7%BD%AE%E9%BB%98%E8%AE%A4%E5%80%BC%E4%B8%BAnull%E7%9A%84%E9%97%AE%E9%A2%98.html","title":"mysql之5-7下TIMESTAMP设置默认值为null的问题","lang":"en-US","frontmatter":{"sidebar":false,"title":"mysql之5-7下TIMESTAMP设置默认值为null的问题","description":"mysql之5-7下TIMESTAMP设置默认值为null的问题"},"headers":[],"git":{},"filePathRelative":"content/database/mysql/mysql之5-7下TIMESTAMP设置默认值为null的问题.md"}');export{d as comp,p as data};
