import{_ as e,c as s,f as a,o as i}from"./app-BB_BIQV8.js";const l={};function o(t,n){return i(),s("div",null,n[0]||(n[0]=[a(`<h5 id="symfony7ä¸‹enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªenumå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#symfony7ä¸‹enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªenumå¯¹è±¡"><span>symfony7ä¸‹Enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªEnumå¯¹è±¡</span></a></h5><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">if (!empty(array_intersect($userRoles, $allowedRoles))) {</span>
<span class="line">    $actionEnum = SubmissionActionEnum::from($actionValue);</span>
<span class="line">    $actionsData[] = new Dto\\Query\\Submission\\Dashboard\\SubmissionActionDto(</span>
<span class="line">        $actionEnum-&gt;name,</span>
<span class="line">        $actionEnum-&gt;value</span>
<span class="line">    );</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ä»£ç åˆ†æ" tabindex="-1"><a class="header-anchor" href="#ä»£ç åˆ†æ"><span>ä»£ç åˆ†æ</span></a></h5><p>è¿™æ®µ Symfony 7 ä¸­çš„ PHP ä»£ç é€»è¾‘å¦‚ä¸‹ï¼š</p><hr><h5 id="âœ…-ä½œç”¨æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#âœ…-ä½œç”¨æ€»ç»“"><span>âœ… ä½œç”¨æ€»ç»“ï¼š</span></a></h5><p>åˆ¤æ–­å½“å‰ç”¨æˆ·è§’è‰²æ˜¯å¦åŒ…å«åœ¨å…è®¸çš„è§’è‰²ä¸­ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å°†æŸä¸ª <code>enum</code> ç±»å‹çš„ action ç»„è£…æˆä¸€ä¸ª <code>SubmissionActionDto</code> å¯¹è±¡ï¼Œå¹¶æ·»åŠ åˆ° <code>$actionsData</code> æ•°ç»„ä¸­ã€‚</p><hr><h5 id="ğŸ”-é€è¡Œåˆ†æ" tabindex="-1"><a class="header-anchor" href="#ğŸ”-é€è¡Œåˆ†æ"><span>ğŸ” é€è¡Œåˆ†æï¼š</span></a></h5><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token function">array_intersect</span><span class="token punctuation">(</span><span class="token variable">$userRoles</span><span class="token punctuation">,</span> <span class="token variable">$allowedRoles</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>array_intersect($userRoles, $allowedRoles)</code> å–å‡º <code>$userRoles</code> å’Œ <code>$allowedRoles</code> ä¸­<strong>å…±åŒå­˜åœ¨çš„è§’è‰²</strong>ã€‚</li><li><code>!empty(...)</code> å¦‚æœä¸¤è€…æœ‰äº¤é›†ï¼ˆå³ç”¨æˆ·å…·æœ‰è‡³å°‘ä¸€ä¸ªå…è®¸çš„è§’è‰²ï¼‰ï¼Œæ‰æ‰§è¡Œä¸‹é¢çš„ä»£ç ã€‚</li></ul><hr><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$actionEnum = SubmissionActionEnum::from($actionValue);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li><code>SubmissionActionEnum::from($actionValue)</code> ä½¿ç”¨ PHP 8.1+ çš„ <a href="https://www.php.net/manual/en/language.enumerations.backed.php" target="_blank" rel="noopener noreferrer">Backed Enums</a> åŠŸèƒ½ï¼Œä» <code>$actionValue</code>ï¼ˆåº”è¯¥æ˜¯æšä¸¾çš„å€¼ï¼Œæ¯”å¦‚å­—ç¬¦ä¸²æˆ–æ•´æ•°ï¼‰ç”Ÿæˆä¸€ä¸ª <code>SubmissionActionEnum</code> æšä¸¾å¯¹è±¡ã€‚</li><li>è¿™ä¸ªæ–¹æ³•åœ¨æ— æ³•åŒ¹é…æ—¶ä¼šæŠ›å‡º <code>ValueError</code>ã€‚</li></ul><hr><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$actionsData[] = new Dto\\Query\\Submission\\Dashboard\\SubmissionActionDto(</span>
<span class="line">    $actionEnum-&gt;name,</span>
<span class="line">    $actionEnum-&gt;value</span>
<span class="line">);</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>SubmissionActionDto</code> å®ä¾‹ï¼Œä¼ å…¥ï¼š</p><ul><li><code>$actionEnum-&gt;name</code>ï¼šæšä¸¾çš„åç§°ï¼ˆå¦‚ <code>SendReminder</code>ï¼‰</li><li><code>$actionEnum-&gt;value</code>ï¼šæšä¸¾çš„å€¼ï¼ˆå¦‚ <code>&quot;send_reminder&quot;</code>ï¼‰</li></ul></li><li><p>æœ€åæŠŠè¿™ä¸ª DTO åŠ å…¥ <code>$actionsData</code> æ•°ç»„ä¸­ï¼Œä¾›åç»­å¤„ç†ï¼ˆæ¯”å¦‚è¿”å›å‰ç«¯ã€æ¸²æŸ“åˆ—è¡¨ç­‰ï¼‰ã€‚</p></li></ul><hr><h5 id="ğŸ“Œ-ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-ç¤ºä¾‹"><span>ğŸ“Œ ç¤ºä¾‹ï¼š</span></a></h5><p>å‡è®¾ï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">$userRoles = [&#39;ROLE_ADMIN&#39;];</span>
<span class="line">$allowedRoles = [&#39;ROLE_ADMIN&#39;, &#39;ROLE_MANAGER&#39;];</span>
<span class="line">$actionValue = &#39;send_reminder&#39;;</span>
<span class="line"></span>
<span class="line">enum SubmissionActionEnum: string {</span>
<span class="line">    case SendReminder = &#39;send_reminder&#39;;</span>
<span class="line">    case Archive = &#39;archive&#39;;</span>
<span class="line">}</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åˆ™ï¼š</p><ul><li><code>array_intersect($userRoles, $allowedRoles)</code> ä¸º <code>[&#39;ROLE_ADMIN&#39;]</code>ï¼Œéç©º</li><li><code>SubmissionActionEnum::from(&#39;send_reminder&#39;)</code> è¿”å›æšä¸¾å¯¹è±¡ <code>SubmissionActionEnum::SendReminder</code></li><li>åˆ›å»ºä¸€ä¸ª DTOï¼š<code>new SubmissionActionDto(&#39;SendReminder&#39;, &#39;send_reminder&#39;)</code></li></ul><hr><h5 id="âœ…-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#âœ…-æ€»ç»“"><span>âœ… æ€»ç»“ï¼š</span></a></h5><p>è¯¥æ®µä»£ç æ˜¯å…¸å‹çš„â€œ<strong>æƒé™åˆ¤æ–­åï¼Œæ‰§è¡Œç‰¹å®šæ“ä½œå¹¶å°è£…æ•°æ®</strong>â€é€»è¾‘ï¼š</p><ul><li><strong>æƒé™æ£€æŸ¥ï¼š</strong> ç”¨æˆ·æ˜¯å¦æœ‰æƒè¿›è¡ŒæŸä¸ªåŠ¨ä½œ</li><li><strong>åŠ¨ä½œè½¬æ¢ï¼š</strong> å°†å­—ç¬¦ä¸² <code>$actionValue</code> è½¬æ¢ä¸ºæšä¸¾</li><li><strong>æ•°æ®å°è£…ï¼š</strong> ä½¿ç”¨ DTO å°è£…å¹¶ä¿å­˜ç»“æœ</li></ul>`,27)]))}const d=e(l,[["render",o],["__file","symfony7ä¸‹Enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªEnumå¯¹è±¡.html.vue"]]),r=JSON.parse('{"path":"/content/php/symfony/symfony7%E4%B8%8BEnum%E4%BD%BF%E7%94%A8from%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AAEnum%E5%AF%B9%E8%B1%A1.html","title":"symfony7ä¸‹Enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªEnumå¯¹è±¡","lang":"en-US","frontmatter":{"sidebar":false,"title":"symfony7ä¸‹Enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªEnumå¯¹è±¡","head":[["meta",{"name":"title","content":"symfony7ä¸‹Enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªEnumå¯¹è±¡"}],["meta",{"name":"description","content":"symfony7ä¸‹Enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªEnumå¯¹è±¡"}],["meta",{"name":"keywords","content":"symfony,php,enum"}],["meta",{"property":"og:title","content":"symfony7ä¸‹Enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªEnumå¯¹è±¡"}],["meta",{"property":"og:description","content":"symfony7ä¸‹Enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªEnumå¯¹è±¡"}]]},"headers":[],"git":{},"filePathRelative":"content/php/symfony/symfony7ä¸‹Enumä½¿ç”¨fromåˆ›å»ºä¸€ä¸ªEnumå¯¹è±¡.md"}');export{d as comp,r as data};
