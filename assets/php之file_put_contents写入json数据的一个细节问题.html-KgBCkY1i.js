import{_ as s,c as e,f as a,o as t}from"./app-BB_BIQV8.js";const l={};function p(i,n){return t(),e("div",null,n[0]||(n[0]=[a(`<h3 id="php之file-put-contents写入json数据的一个细节问题" tabindex="-1"><a class="header-anchor" href="#php之file-put-contents写入json数据的一个细节问题"><span>php之file_put_contents写入json数据的一个细节问题</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">本来想把如下的数据</span>
<span class="line">$params = json_decode($data, true);</span>
<span class="line"></span>
<span class="line">通过:</span>
<span class="line">file_put_contents(&quot;./1.txt&quot;, $params;</span>
<span class="line"></span>
<span class="line">写入到:</span>
<span class="line">./1.txt</span>
<span class="line"></span>
<span class="line">但是，我查看./1.txt 的时候，发现之后值没有key,这样很难看出这个json数据的格式</span>
<span class="line"></span>
<span class="line">解决方案:</span>
<span class="line">通过var_export处理一下，可以成功写入带key的json数据</span>
<span class="line">file_put_contents(&quot;./1.txt&quot;, var_export($params, true));</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="关于var-export有个重要的特性" tabindex="-1"><a class="header-anchor" href="#关于var-export有个重要的特性"><span>关于var_export有个重要的特性:</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">var_export() 是“可复原输出”，它会把变量导出成一个 合法的 PHP 表达式，也就是说： 把输出 copy 回 PHP eval()，它能重新变回原来的变量。</span>
<span class="line">$newArr = eval(&#39;return &#39; . $exported . &#39;;&#39;); //现在 $newArr 又变为原来的数组。</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="print-r-和var-export-区别" tabindex="-1"><a class="header-anchor" href="#print-r-和var-export-区别"><span>print_r()和var_export()区别</span></a></h3><p><code>print_r()</code> 和 <code>var_export()</code> 有明显区别，尤其是在 <strong>赋值给变量</strong> 和 <strong>可复原性</strong> 上。我们对比一下：</p><hr><h3 id="_1️⃣-基本用法" tabindex="-1"><a class="header-anchor" href="#_1️⃣-基本用法"><span>1️⃣ 基本用法</span></a></h3><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token variable">$arr</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string single-quoted-string">&#39;a&#39;</span> <span class="token operator">=&gt;</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">&#39;b&#39;</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span></span>
<span class="line"><span class="token variable">$output</span> <span class="token operator">=</span> <span class="token function">print_r</span><span class="token punctuation">(</span><span class="token variable">$arr</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>$output</code> 是一个 <strong>字符串</strong>，内容类似：</li></ul><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">Array</span>
<span class="line">(</span>
<span class="line">    [a] =&gt; 1</span>
<span class="line">    [b] =&gt; Array</span>
<span class="line">        (</span>
<span class="line">            [0] =&gt; 2</span>
<span class="line">            [1] =&gt; 3</span>
<span class="line">        )</span>
<span class="line"></span>
<span class="line">)</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>注意</strong>：这个字符串只是为了 <strong>人类可读</strong>，不能直接 <code>eval()</code> 变回数组。</li><li>如果你尝试：</li></ul><div class="language-php line-numbers-mode" data-highlighter="prismjs" data-ext="php" data-title="php"><pre><code><span class="line"><span class="token variable">$newArr</span> <span class="token operator">=</span> <span class="token keyword">eval</span><span class="token punctuation">(</span><span class="token string single-quoted-string">&#39;return &#39;</span> <span class="token operator">.</span> <span class="token variable">$output</span> <span class="token operator">.</span> <span class="token string single-quoted-string">&#39;;&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>会报错，因为 <code>print_r</code> 的格式不是合法的 PHP 代码。</p><hr><h3 id="_2️⃣-对比-var-export" tabindex="-1"><a class="header-anchor" href="#_2️⃣-对比-var-export"><span>2️⃣ 对比 var_export</span></a></h3><table><thead><tr><th>函数</th><th>输出类型</th><th>可复原</th><th>用途</th></tr></thead><tbody><tr><td><code>var_export($arr, true)</code></td><td>字符串（合法 PHP 代码）</td><td>✔ 可以 <code>eval()</code> 还原</td><td>保存、写文件、配置</td></tr><tr><td><code>print_r($arr, true)</code></td><td>字符串（可读，但非 PHP 代码）</td><td>✖ 不可直接复原</td><td>调试、打印日志</td></tr><tr><td><code>var_dump($arr)</code></td><td>直接输出（带类型信息）</td><td>✖ 不可复原</td><td>调试、查看类型</td></tr></tbody></table><hr><h3 id="_3️⃣-总结" tabindex="-1"><a class="header-anchor" href="#_3️⃣-总结"><span>3️⃣ 总结</span></a></h3><ul><li><code>print_r($arr, true)</code> → <strong>只是漂亮打印</strong>，适合写日志或文件查看，但不能直接当作数组再用。</li><li><code>var_export($arr, true)</code> → <strong>可复原字符串</strong>，写入文件后可以通过 <code>eval()</code> 或 <code>include</code> 变回原数组。</li></ul>`,20)]))}const o=s(l,[["render",p],["__file","php之file_put_contents写入json数据的一个细节问题.html.vue"]]),c=JSON.parse('{"path":"/content/php/base/php%E4%B9%8Bfile_put_contents%E5%86%99%E5%85%A5json%E6%95%B0%E6%8D%AE%E7%9A%84%E4%B8%80%E4%B8%AA%E7%BB%86%E8%8A%82%E9%97%AE%E9%A2%98.html","title":"php之file_put_contents写入json数据的一个细节问题","lang":"en-US","frontmatter":{"sidebar":false,"title":"php之file_put_contents写入json数据的一个细节问题","head":[["meta",{"name":"title","content":"php之file_put_contents写入json数据的一个细节问题"}],["meta",{"name":"description","content":"php之file_put_contents写入json数据的一个细节问题"}],["meta",{"name":"keywords","content":"php之file_put_contents写入json数据的一个细节问题"}],["meta",{"property":"og:title","content":"php之file_put_contents写入json数据的一个细节问题"}],["meta",{"property":"og:description","content":"php之file_put_contents写入json数据的一个细节问题"}]]},"headers":[{"level":3,"title":"php之file_put_contents写入json数据的一个细节问题","slug":"php之file-put-contents写入json数据的一个细节问题","link":"#php之file-put-contents写入json数据的一个细节问题","children":[]},{"level":3,"title":"关于var_export有个重要的特性:","slug":"关于var-export有个重要的特性","link":"#关于var-export有个重要的特性","children":[]},{"level":3,"title":"print_r()和var_export()区别","slug":"print-r-和var-export-区别","link":"#print-r-和var-export-区别","children":[]},{"level":3,"title":"1️⃣ 基本用法","slug":"_1️⃣-基本用法","link":"#_1️⃣-基本用法","children":[]},{"level":3,"title":"2️⃣ 对比 var_export","slug":"_2️⃣-对比-var-export","link":"#_2️⃣-对比-var-export","children":[]},{"level":3,"title":"3️⃣ 总结","slug":"_3️⃣-总结","link":"#_3️⃣-总结","children":[]}],"git":{},"filePathRelative":"content/php/base/php之file_put_contents写入json数据的一个细节问题.md"}');export{o as comp,c as data};
