import{_ as l,c as t,f as s,o as n}from"./app-BB_BIQV8.js";const o={};function d(a,e){return n(),t("div",null,e[0]||(e[0]=[s(`<h3 id="关于mysql下null的一个小细节" tabindex="-1"><a class="header-anchor" href="#关于mysql下null的一个小细节"><span>关于mysql下null的一个小细节</span></a></h3><ul><li>有如下部分sql语句:<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">ero.statusId IS NULL OR ero.statusId != 0</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>问题<div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">如果  ero.statusId != 0 为什么不能判断 null</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>分析: 这是 SQL 中关于 <code>NULL</code> 的一个重要特性：</li></ul><p><strong><code>NULL</code> 比较的特殊性：</strong></p><p>在 SQL 中，<code>NULL</code> 不等于任何值，包括它自己, 因为 NULL 不是一个「值」，而是「没有值」。所以：</p><ul><li><code>NULL != 0</code> 的结果是 <code>UNKNOWN</code>（未知），<strong>不是 <code>TRUE</code></strong></li><li><code>NULL = 0</code> 的结果也是 <code>UNKNOWN</code>，<strong>不是 <code>FALSE</code></strong></li></ul><p>因此，当 <code>ero.statusId</code> 为 <code>NULL</code> 时：</p><ul><li><code>ero.statusId != 0</code> 不会匹配这条记录（因为结果是 UNKNOWN）</li><li>这样没有订单的 ticket 就被过滤掉了</li></ul><p><strong>解决办法：</strong></p><p>必须显式检查 <code>NULL</code>：<code>ero.statusId IS NULL OR ero.statusId != 0</code></p><ul><li><code>ero.statusId IS NULL</code> → 匹配没有订单的 ticket ✓</li><li><code>ero.statusId != 0</code> → 匹配有订单但状态不是0的记录 ✓</li></ul><p>这样两种情况都被覆盖了。</p><p>简单来说：<strong>SQL 中比较 <code>NULL</code> 时，不能用 <code>=</code> 或 <code>!=</code>，必须用 <code>IS NULL</code> 或 <code>IS NOT NULL</code>。</strong></p>`,12)]))}const i=l(o,[["render",d],["__file","关于mysql下null的一个小细节.html.vue"]]),r=JSON.parse('{"path":"/content/database/mysql/%E5%85%B3%E4%BA%8Emysql%E4%B8%8Bnull%E7%9A%84%E4%B8%80%E4%B8%AA%E5%B0%8F%E7%BB%86%E8%8A%82.html","title":"关于mysql下null的一个小细节","lang":"en-US","frontmatter":{"sidebar":false,"title":"关于mysql下null的一个小细节","head":[["meta",{"name":"title","content":"关于mysql下null的一个小细节"}],["meta",{"name":"description","content":"关于mysql下null的一个小细节"}],["meta",{"name":"keywords","content":"mysql,null"}],["meta",{"property":"og:title","content":"关于mysql下null的一个小细节"}],["meta",{"property":"og:description","content":"关于mysql下null的一个小细节"}]]},"headers":[{"level":3,"title":"关于mysql下null的一个小细节","slug":"关于mysql下null的一个小细节","link":"#关于mysql下null的一个小细节","children":[]}],"git":{},"filePathRelative":"content/database/mysql/关于mysql下null的一个小细节.md"}');export{i as comp,r as data};
