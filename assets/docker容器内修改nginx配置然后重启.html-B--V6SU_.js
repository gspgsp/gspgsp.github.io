import{_ as e,c as i,f as s,o as a}from"./app-BB_BIQV8.js";const t={};function l(d,n){return a(),i("div",null,n[0]||(n[0]=[s(`<h3 id="nginxå®¹å™¨ä¿®æ”¹æƒ³éœ€è¦ä¿®æ”¹nginxé…ç½®-ç„¶åé‡å¯ç”Ÿæ•ˆ" tabindex="-1"><a class="header-anchor" href="#nginxå®¹å™¨ä¿®æ”¹æƒ³éœ€è¦ä¿®æ”¹nginxé…ç½®-ç„¶åé‡å¯ç”Ÿæ•ˆ"><span>nginxå®¹å™¨ä¿®æ”¹æƒ³éœ€è¦ä¿®æ”¹nginxé…ç½®ï¼Œç„¶åé‡å¯ç”Ÿæ•ˆ</span></a></h3><p>1.éœ€è¦å®‰è£…vim</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line"># apt update &amp;&amp; apt install -y vim</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>2.ä¿®æ”¹nginxé…ç½®</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">root@8bdd6c20b527:/etc/nginx/conf.d# vim qinhong.conf</span>
<span class="line">root@8bdd6c20b527:/etc/nginx/conf.d#</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>3.æµ‹è¯•é…ç½®</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">root@8bdd6c20b527:/etc/nginx/conf.d# nginx -t</span>
<span class="line">nginx: the configuration file /etc/nginx/nginx.conf syntax is ok</span>
<span class="line">nginx: configuration file /etc/nginx/nginx.conf test is successful</span>
<span class="line">root@8bdd6c20b527:/etc/nginx/conf.d#</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>4.é‡å¯nginx</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">root@8bdd6c20b527:/etc/nginx/conf.d# nginx -s reload</span>
<span class="line">2025/12/03 09:15:36 [notice] 311#311: signal process started</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="å®¹å™¨ä¸‹çš„nginxå’Œæ™®é€šçš„nginxæœåŠ¡çš„åŒºåˆ«" tabindex="-1"><a class="header-anchor" href="#å®¹å™¨ä¸‹çš„nginxå’Œæ™®é€šçš„nginxæœåŠ¡çš„åŒºåˆ«"><span>å®¹å™¨ä¸‹çš„nginxå’Œæ™®é€šçš„nginxæœåŠ¡çš„åŒºåˆ«</span></a></h3><blockquote><p><strong>åœ¨ Docker å®¹å™¨ä¸­ï¼ŒNginx æ˜¯ä»¥å‰å°è¿›ç¨‹ï¼ˆforeground processï¼‰è¿è¡Œçš„ï¼Œä¸æ˜¯ç³»ç»ŸæœåŠ¡ã€‚</strong></p></blockquote><p>ä¸‹é¢ç”¨æœ€ç®€å•ã€æœ€æ¸…æ™°çš„æ–¹å¼è§£é‡Šä¸€ä¸‹ä¸ºä»€ä¹ˆï¼Œä»¥åŠè¿™æ„å‘³ç€ä»€ä¹ˆã€‚</p><hr><h3 id="âœ…-ä¸ºä»€ä¹ˆå®¹å™¨é‡Œ-nginx-å¿…é¡»ä»¥å‰å°è¿›ç¨‹è¿è¡Œ" tabindex="-1"><a class="header-anchor" href="#âœ…-ä¸ºä»€ä¹ˆå®¹å™¨é‡Œ-nginx-å¿…é¡»ä»¥å‰å°è¿›ç¨‹è¿è¡Œ"><span>âœ… ä¸ºä»€ä¹ˆå®¹å™¨é‡Œ Nginx å¿…é¡»ä»¥å‰å°è¿›ç¨‹è¿è¡Œï¼Ÿ</span></a></h3><p>Docker çš„è®¾è®¡åŸåˆ™æ˜¯ï¼š</p><ul><li><strong>ä¸€ä¸ªå®¹å™¨ = ä¸€ä¸ªä¸»è¿›ç¨‹ï¼ˆPID 1ï¼‰</strong></li><li>ä¸»è¿›ç¨‹é€€å‡º = å®¹å™¨é€€å‡º</li></ul><p>å› æ­¤ï¼š</p><ul><li>åœ¨å®¹å™¨é‡Œä¸èƒ½ä½¿ç”¨ systemd</li><li>ä¸èƒ½è°ƒç”¨ <code>systemctl start nginx</code> æˆ– <code>service nginx start</code></li><li>å› ä¸ºå®¹å™¨é‡Œæ ¹æœ¬ä¸å­˜åœ¨ systemd</li></ul><p>æ‰€ä»¥å®˜æ–¹ nginx é•œåƒç”¨ä»¥ä¸‹æ–¹å¼å¯åŠ¨ nginxï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">nginx -g &quot;daemon off;&quot;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ„æ€æ˜¯ï¼š</p><ul><li>ä¸è¦å¯åŠ¨ä¸ºåå°æœåŠ¡ï¼ˆdaemonï¼‰</li><li>è€Œæ˜¯è®© Nginx åœ¨å‰å°ä¸€ç›´è¿è¡Œ</li><li>è¿™æ ·å®¹å™¨æ‰èƒ½ä¿æŒå­˜æ´»</li></ul><hr><h3 id="ğŸ”¥-å…³é”®ç†è§£-å®¹å™¨ä¸æ˜¯ä¸€å°å®Œæ•´çš„-linux-æœåŠ¡å™¨" tabindex="-1"><a class="header-anchor" href="#ğŸ”¥-å…³é”®ç†è§£-å®¹å™¨ä¸æ˜¯ä¸€å°å®Œæ•´çš„-linux-æœåŠ¡å™¨"><span>ğŸ”¥ å…³é”®ç†è§£ï¼šå®¹å™¨ä¸æ˜¯ä¸€å°å®Œæ•´çš„ Linux æœåŠ¡å™¨</span></a></h3><p>åœ¨ç‰©ç†æœºæˆ– VM ä¸Šï¼š</p><ul><li>systemdï¼ˆæˆ– SysVï¼‰ç®¡ç†æœåŠ¡</li><li>nginx æ˜¯ä¸€ä¸ª system æœåŠ¡ï¼š<code>systemctl status nginx</code></li></ul><p>ä½†æ˜¯åœ¨ Dockerï¼š</p><ul><li>æ²¡æœ‰ systemctlï¼Œæ²¡æœ‰ initï¼Œæ²¡æœ‰ service</li><li>å®¹å™¨æœ¬è´¨ä¸Šåªæœ‰ä¸€ä¸ªâ€œç”¨æˆ·è¿›ç¨‹â€</li><li>ä½ åœ¨å®¹å™¨é‡Œé¢çœ‹åˆ°çš„ <strong>PID 1 = Nginx ä¸»è¿›ç¨‹</strong></li></ul><p>ä½ å¯ä»¥åœ¨å®¹å™¨é‡Œæ‰§è¡Œï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">ps aux</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>é€šå¸¸ä¼šçœ‹åˆ°ï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">1 root     nginx: master process nginx -g daemon off;</span>
<span class="line">...</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒå°±æ˜¯å®¹å™¨çš„ä¸»è¿›ç¨‹ã€‚</p><hr><h3 id="âš ï¸-é‚£ä¹ˆé—®é¢˜æ¥äº†-å¦‚æœä½ æ‰§è¡Œ" tabindex="-1"><a class="header-anchor" href="#âš ï¸-é‚£ä¹ˆé—®é¢˜æ¥äº†-å¦‚æœä½ æ‰§è¡Œ"><span>âš ï¸ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šå¦‚æœä½ æ‰§è¡Œ</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">nginx -s stop</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>ä½ ä¼šæŠŠ PID 1 æ€æ‰ï¼Œäºæ˜¯ï¼š</p><p>â¡ï¸ <strong>å®¹å™¨ç«‹å³é€€å‡ºï¼ˆåœæ­¢ï¼‰</strong></p><p>é™¤éä½ çš„é•œåƒä¸æ˜¯ç”¨ nginx å‰å°å¯åŠ¨ï¼Œè€Œæ˜¯ç”¨å…¶å®ƒæ–¹å¼ï¼ˆä¾‹å¦‚ supervisordã€entrypoint è„šæœ¬ï¼‰åŒ…è£…äº† nginxã€‚</p><hr><h3 id="ğŸ“Œ-åœ¨å®¹å™¨é‡Œå¦‚ä½•æ­£ç¡®æ§åˆ¶-nginx" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-åœ¨å®¹å™¨é‡Œå¦‚ä½•æ­£ç¡®æ§åˆ¶-nginx"><span>ğŸ“Œ åœ¨å®¹å™¨é‡Œå¦‚ä½•æ­£ç¡®æ§åˆ¶ Nginxï¼Ÿ</span></a></h3><h3 id="âœ”-reload-é…ç½®-æ¨è" tabindex="-1"><a class="header-anchor" href="#âœ”-reload-é…ç½®-æ¨è"><span>âœ” Reload é…ç½®ï¼ˆæ¨èï¼‰</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">nginx -s reload</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="âŒ-stop-å±é™©-ä¼šé€€å‡ºæ•´ä¸ªå®¹å™¨" tabindex="-1"><a class="header-anchor" href="#âŒ-stop-å±é™©-ä¼šé€€å‡ºæ•´ä¸ªå®¹å™¨"><span>âŒ Stopï¼ˆå±é™©ï¼Œä¼šé€€å‡ºæ•´ä¸ªå®¹å™¨ï¼‰</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">nginx -s stop</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="âœ”-å¦‚æœéœ€è¦çœŸæ­£é‡å¯-nginx-è€Œä¸æ˜¯-reload" tabindex="-1"><a class="header-anchor" href="#âœ”-å¦‚æœéœ€è¦çœŸæ­£é‡å¯-nginx-è€Œä¸æ˜¯-reload"><span>âœ” å¦‚æœéœ€è¦çœŸæ­£é‡å¯ Nginxï¼ˆè€Œä¸æ˜¯ reloadï¼‰</span></a></h3><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">docker restart &lt;container&gt;</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è¿™æ˜¯æœ€å®‰å…¨ã€æœ€æ ‡å‡†çš„æ–¹å¼ã€‚</p><hr><h3 id="ğŸ“Œ-æ€»ç»“-æœ€é‡è¦" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-æ€»ç»“-æœ€é‡è¦"><span>ğŸ“Œ æ€»ç»“ï¼ˆæœ€é‡è¦ï¼‰</span></a></h3><table><thead><tr><th>åœºæ™¯</th><th>å®¿ä¸»æœºæœåŠ¡å™¨ï¼ˆæœ‰ systemdï¼‰</th><th>Docker å®¹å™¨ï¼ˆæ—  systemdï¼‰</th></tr></thead><tbody><tr><td>æŸ¥çœ‹çŠ¶æ€</td><td><code>systemctl status nginx</code></td><td>âŒ æ— æ³•ä½¿ç”¨</td></tr><tr><td>å¯åŠ¨</td><td><code>systemctl start nginx</code></td><td>âŒ æ— æ³•ä½¿ç”¨</td></tr><tr><td>åœæ­¢</td><td><code>systemctl stop nginx</code></td><td>âŒ æ— æ³•ä½¿ç”¨</td></tr><tr><td>å‰å°è¿è¡Œ</td><td>systemd ç®¡ç†</td><td><strong>å¿…é¡»å‰å°è¿è¡Œï¼ˆdaemon offï¼‰</strong></td></tr><tr><td>é‡è½½é…ç½®</td><td><code>systemctl reload nginx</code></td><td><code>nginx -s reload</code></td></tr><tr><td>é‡å¯</td><td><code>systemctl restart nginx</code></td><td><code>docker restart container</code></td></tr></tbody></table><h3 id="ç›¸å…³å‘½ä»¤" tabindex="-1"><a class="header-anchor" href="#ç›¸å…³å‘½ä»¤"><span>ç›¸å…³å‘½ä»¤</span></a></h3><h4 id="nginx-h" tabindex="-1"><a class="header-anchor" href="#nginx-h"><span>nginx -h</span></a></h4><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">nginx version: nginx/1.28.0</span>
<span class="line">Usage: nginx [-?hvVtTq] [-s signal] [-p prefix]</span>
<span class="line">[-e filename] [-c filename] [-g directives]</span>
<span class="line"></span>
<span class="line">Options:</span>
<span class="line">-?,-h         : this help</span>
<span class="line">-v            : show version and exit</span>
<span class="line">-V            : show version and configure options then exit</span>
<span class="line">-t            : test configuration and exit</span>
<span class="line">-T            : test configuration, dump it and exit</span>
<span class="line">-q            : suppress non-error messages during configuration testing</span>
<span class="line">-s signal     : send signal to a master process: stop, quit, reopen, reload</span>
<span class="line">-p prefix     : set prefix path (default: /etc/nginx/)</span>
<span class="line">-e filename   : set error log file (default: /var/log/nginx/error.log)</span>
<span class="line">-c filename   : set configuration file (default: /etc/nginx/nginx.conf)</span>
<span class="line">-g directives : set global directives out of configuration file</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,55)]))}const c=e(t,[["render",l],["__file","dockerå®¹å™¨å†…ä¿®æ”¹nginxé…ç½®ç„¶åé‡å¯.html.vue"]]),o=JSON.parse('{"path":"/content/linux/nginx/docker%E5%AE%B9%E5%99%A8%E5%86%85%E4%BF%AE%E6%94%B9nginx%E9%85%8D%E7%BD%AE%E7%84%B6%E5%90%8E%E9%87%8D%E5%90%AF.html","title":"dockerå®¹å™¨å†…ä¿®æ”¹nginxé…ç½®ç„¶åé‡å¯","lang":"en-US","frontmatter":{"sidebar":false,"title":"dockerå®¹å™¨å†…ä¿®æ”¹nginxé…ç½®ç„¶åé‡å¯","head":[["meta",{"name":"title","content":"dockerå®¹å™¨å†…ä¿®æ”¹nginxé…ç½®ç„¶åé‡å¯"}],["meta",{"name":"description","content":"dockerå®¹å™¨å†…ä¿®æ”¹nginxé…ç½®ç„¶åé‡å¯"}],["meta",{"name":"keywords","content":"dockerå®¹å™¨å†…ä¿®æ”¹nginxé…ç½®ç„¶åé‡å¯"}],["meta",{"property":"og:title","content":"dockerå®¹å™¨å†…ä¿®æ”¹nginxé…ç½®ç„¶åé‡å¯"}],["meta",{"property":"og:description","content":"dockerå®¹å™¨å†…ä¿®æ”¹nginxé…ç½®ç„¶åé‡å¯"}]]},"headers":[{"level":3,"title":"nginxå®¹å™¨ä¿®æ”¹æƒ³éœ€è¦ä¿®æ”¹nginxé…ç½®ï¼Œç„¶åé‡å¯ç”Ÿæ•ˆ","slug":"nginxå®¹å™¨ä¿®æ”¹æƒ³éœ€è¦ä¿®æ”¹nginxé…ç½®-ç„¶åé‡å¯ç”Ÿæ•ˆ","link":"#nginxå®¹å™¨ä¿®æ”¹æƒ³éœ€è¦ä¿®æ”¹nginxé…ç½®-ç„¶åé‡å¯ç”Ÿæ•ˆ","children":[]},{"level":3,"title":"å®¹å™¨ä¸‹çš„nginxå’Œæ™®é€šçš„nginxæœåŠ¡çš„åŒºåˆ«","slug":"å®¹å™¨ä¸‹çš„nginxå’Œæ™®é€šçš„nginxæœåŠ¡çš„åŒºåˆ«","link":"#å®¹å™¨ä¸‹çš„nginxå’Œæ™®é€šçš„nginxæœåŠ¡çš„åŒºåˆ«","children":[]},{"level":3,"title":"âœ… ä¸ºä»€ä¹ˆå®¹å™¨é‡Œ Nginx å¿…é¡»ä»¥å‰å°è¿›ç¨‹è¿è¡Œï¼Ÿ","slug":"âœ…-ä¸ºä»€ä¹ˆå®¹å™¨é‡Œ-nginx-å¿…é¡»ä»¥å‰å°è¿›ç¨‹è¿è¡Œ","link":"#âœ…-ä¸ºä»€ä¹ˆå®¹å™¨é‡Œ-nginx-å¿…é¡»ä»¥å‰å°è¿›ç¨‹è¿è¡Œ","children":[]},{"level":3,"title":"ğŸ”¥ å…³é”®ç†è§£ï¼šå®¹å™¨ä¸æ˜¯ä¸€å°å®Œæ•´çš„ Linux æœåŠ¡å™¨","slug":"ğŸ”¥-å…³é”®ç†è§£-å®¹å™¨ä¸æ˜¯ä¸€å°å®Œæ•´çš„-linux-æœåŠ¡å™¨","link":"#ğŸ”¥-å…³é”®ç†è§£-å®¹å™¨ä¸æ˜¯ä¸€å°å®Œæ•´çš„-linux-æœåŠ¡å™¨","children":[]},{"level":3,"title":"âš ï¸ é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼šå¦‚æœä½ æ‰§è¡Œ","slug":"âš ï¸-é‚£ä¹ˆé—®é¢˜æ¥äº†-å¦‚æœä½ æ‰§è¡Œ","link":"#âš ï¸-é‚£ä¹ˆé—®é¢˜æ¥äº†-å¦‚æœä½ æ‰§è¡Œ","children":[]},{"level":3,"title":"ğŸ“Œ åœ¨å®¹å™¨é‡Œå¦‚ä½•æ­£ç¡®æ§åˆ¶ Nginxï¼Ÿ","slug":"ğŸ“Œ-åœ¨å®¹å™¨é‡Œå¦‚ä½•æ­£ç¡®æ§åˆ¶-nginx","link":"#ğŸ“Œ-åœ¨å®¹å™¨é‡Œå¦‚ä½•æ­£ç¡®æ§åˆ¶-nginx","children":[]},{"level":3,"title":"âœ” Reload é…ç½®ï¼ˆæ¨èï¼‰","slug":"âœ”-reload-é…ç½®-æ¨è","link":"#âœ”-reload-é…ç½®-æ¨è","children":[]},{"level":3,"title":"âŒ Stopï¼ˆå±é™©ï¼Œä¼šé€€å‡ºæ•´ä¸ªå®¹å™¨ï¼‰","slug":"âŒ-stop-å±é™©-ä¼šé€€å‡ºæ•´ä¸ªå®¹å™¨","link":"#âŒ-stop-å±é™©-ä¼šé€€å‡ºæ•´ä¸ªå®¹å™¨","children":[]},{"level":3,"title":"âœ” å¦‚æœéœ€è¦çœŸæ­£é‡å¯ Nginxï¼ˆè€Œä¸æ˜¯ reloadï¼‰","slug":"âœ”-å¦‚æœéœ€è¦çœŸæ­£é‡å¯-nginx-è€Œä¸æ˜¯-reload","link":"#âœ”-å¦‚æœéœ€è¦çœŸæ­£é‡å¯-nginx-è€Œä¸æ˜¯-reload","children":[]},{"level":3,"title":"ğŸ“Œ æ€»ç»“ï¼ˆæœ€é‡è¦ï¼‰","slug":"ğŸ“Œ-æ€»ç»“-æœ€é‡è¦","link":"#ğŸ“Œ-æ€»ç»“-æœ€é‡è¦","children":[]},{"level":3,"title":"ç›¸å…³å‘½ä»¤","slug":"ç›¸å…³å‘½ä»¤","link":"#ç›¸å…³å‘½ä»¤","children":[]}],"git":{},"filePathRelative":"content/linux/nginx/dockerå®¹å™¨å†…ä¿®æ”¹nginxé…ç½®ç„¶åé‡å¯.md"}');export{c as comp,o as data};
