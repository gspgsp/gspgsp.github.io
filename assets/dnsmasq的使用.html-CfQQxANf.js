import{_ as n,c as a,f as e,o as l}from"./app-BB_BIQV8.js";const i={};function p(t,s){return l(),a("div",null,s[0]||(s[0]=[e(`<h5 id="dnsmasqçš„ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#dnsmasqçš„ä½¿ç”¨"><span>dnsmasqçš„ä½¿ç”¨</span></a></h5><p><code>dnsmasq</code> æ˜¯ä¸€ä¸ªè½»é‡çº§çš„ DNS è½¬å‘å™¨å’Œ DHCP æœåŠ¡å™¨ï¼Œå¹¿æ³›ç”¨äºå°å‹ç½‘ç»œã€å¼€å‘ç¯å¢ƒæˆ–åµŒå…¥å¼è®¾å¤‡ä¸­ã€‚å®ƒé…ç½®ç®€å•ã€å ç”¨èµ„æºå°‘ï¼Œéå¸¸é€‚åˆä»¥ä¸‹ç”¨é€”ï¼š</p><hr><h5 id="ğŸ“Œ-å¸¸è§ç”¨é€”" tabindex="-1"><a class="header-anchor" href="#ğŸ“Œ-å¸¸è§ç”¨é€”"><span>ğŸ“Œ å¸¸è§ç”¨é€”</span></a></h5><ol><li><p><strong>DNS ç¼“å­˜ä¸è½¬å‘</strong><br> æé«˜åŸŸåè§£æé€Ÿåº¦ï¼Œå°†è¯·æ±‚è½¬å‘ç»™ä¸Šæ¸¸ DNSï¼ˆå¦‚ 8.8.8.8ï¼‰ã€‚</p></li><li><p><strong>æœ¬åœ°åŸŸåè§£æ</strong><br> æ¯”å¦‚å°† <code>myapp.local</code> æŒ‡å‘æŸä¸ªæœ¬åœ° IPï¼ˆé€‚åˆæœ¬åœ°å¼€å‘ç¯å¢ƒï¼‰ã€‚</p></li><li><p><strong>DHCP æœåŠ¡å™¨</strong><br> ç»™å±€åŸŸç½‘å†…è®¾å¤‡è‡ªåŠ¨åˆ†é… IP åœ°å€ã€‚</p></li><li><p><strong>PXE ç½‘ç»œå¯åŠ¨ã€TFTP æ”¯æŒ</strong><br> å¸¸ç”¨äºè‡ªåŠ¨åŒ–éƒ¨ç½²æˆ–åµŒå…¥å¼ç³»ç»Ÿã€‚</p></li></ol><hr><h5 id="âœ…-ç¤ºä¾‹-é…ç½®æœ¬åœ°åŸŸåè§£æå’Œ-dns-ç¼“å­˜" tabindex="-1"><a class="header-anchor" href="#âœ…-ç¤ºä¾‹-é…ç½®æœ¬åœ°åŸŸåè§£æå’Œ-dns-ç¼“å­˜"><span>âœ… ç¤ºä¾‹ï¼šé…ç½®æœ¬åœ°åŸŸåè§£æå’Œ DNS ç¼“å­˜</span></a></h5><p>å‡è®¾ä½ å¸Œæœ›å°† <code>myapp.local</code> è§£æåˆ°æœ¬åœ°æœåŠ¡å™¨ IP <code>192.168.1.100</code>ï¼Œå¹¶å¯ç”¨ DNS ç¼“å­˜ï¼š</p><h5 id="etc-dnsmasq-conf-ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#etc-dnsmasq-conf-ç¤ºä¾‹"><span><code>/etc/dnsmasq.conf</code> ç¤ºä¾‹ï¼š</span></a></h5><div class="language-ini line-numbers-mode" data-highlighter="prismjs" data-ext="ini" data-title="ini"><pre><code><span class="line"><span class="token comment"># æŒ‡å®šä¸Šæ¸¸ DNS æœåŠ¡å™¨</span></span>
<span class="line"><span class="token key attr-name">server</span><span class="token punctuation">=</span><span class="token value attr-value">8.8.8.8</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># å¯ç”¨ç¼“å­˜</span></span>
<span class="line"><span class="token key attr-name">cache-size</span><span class="token punctuation">=</span><span class="token value attr-value">1000</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># è‡ªå®šä¹‰åŸŸåè§£æ</span></span>
<span class="line"><span class="token key attr-name">address</span><span class="token punctuation">=</span><span class="token value attr-value">/myapp.local/192.168.1.100</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="âœ…-ç¤ºä¾‹-åŒæ—¶å¯ç”¨-dhcp" tabindex="-1"><a class="header-anchor" href="#âœ…-ç¤ºä¾‹-åŒæ—¶å¯ç”¨-dhcp"><span>âœ… ç¤ºä¾‹ï¼šåŒæ—¶å¯ç”¨ DHCP</span></a></h5><div class="language-ini line-numbers-mode" data-highlighter="prismjs" data-ext="ini" data-title="ini"><pre><code><span class="line"><span class="token comment"># è®¾ç½® DHCP èŒƒå›´</span></span>
<span class="line"><span class="token key attr-name">dhcp-range</span><span class="token punctuation">=</span><span class="token value attr-value">192.168.1.50,192.168.1.150,12h</span></span>
<span class="line"></span>
<span class="line">åŒæ—¶å¯ç”¨ DHCP çš„ä½œç”¨ï¼Œå¯ä»¥ä¸ºå±€åŸŸç½‘å†…çš„è®¾å¤‡åˆ†é…IPï¼Œè¦è®©è¿™ä¸ªé…ç½®ç”Ÿæ•ˆï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ­¥éª¤å®ç°:</span>
<span class="line">1.ç”¨ç½‘çº¿ï¼ˆæˆ–çƒ­ç‚¹ï¼‰æŠŠå…¶ä»–è®¾å¤‡è¿æ¥åˆ°ä½ ç”µè„‘ï¼ˆæ¡¥æ¥æˆ–å…±äº«ç½‘ç»œï¼‰</span>
<span class="line">2.ç¦ç”¨å±€åŸŸç½‘ä¸­å…¶ä»– DHCPï¼ˆå¦‚è·¯ç”±å™¨ DHCPï¼‰</span>
<span class="line">3.åŠ¨ä½ ç”µè„‘çš„ dnsmasqï¼Œåˆ†é… IPï¼ˆå¦‚ 192.168.1.50~150ï¼‰</span>
<span class="line">4.å…¶ä»–è®¾å¤‡ä¼šè‡ªåŠ¨è·å¾— IP å¹¶ä½¿ç”¨ä½ çš„ç”µè„‘ä½œä¸º DNS / ç½‘å…³</span>
<span class="line"></span>
<span class="line">å¦‚æœåªæ˜¯æƒ³æµ‹è¯•ä¸€ä¸‹ dnsmasq çš„ DHCP åŠŸèƒ½ï¼Œå¯ä»¥è¿™æ ·ï¼š</span>
<span class="line">ä½¿ç”¨ç¬”è®°æœ¬ â†’ å¼€çƒ­ç‚¹ â†’ è¿è¡Œ dnsmasq â†’ å…¶ä»–è®¾å¤‡è¿æ¥è¿™ä¸ªçƒ­ç‚¹</span>
<span class="line">1.ç”¨ Linux ç¬”è®°æœ¬å¼€ Wi-Fi çƒ­ç‚¹ï¼ˆæˆ–è€… USB ç½‘ç»œå…±äº«ï¼‰</span>
<span class="line">2.è®¾ç½®çƒ­ç‚¹å­ç½‘ä¸ºå¦‚ 192.168.8.1</span>
<span class="line">3.åœ¨çƒ­ç‚¹ç½‘å¡ä¸Šå¯ç”¨ dnsmasqï¼Œé…ç½®ä¸ºï¼š</span>
<span class="line"><span class="token key attr-name">interface</span><span class="token punctuation">=</span><span class="token value attr-value">wlp3s0   # â† ä½ å¼€å¯çƒ­ç‚¹çš„é‚£ä¸ªç½‘å¡</span></span>
<span class="line"><span class="token key attr-name">dhcp-range</span><span class="token punctuation">=</span><span class="token value attr-value">192.168.8.50,192.168.8.150,12h</span></span>
<span class="line"><span class="token key attr-name">dhcp-option</span><span class="token punctuation">=</span><span class="token value attr-value">3,192.168.8.1       # é»˜è®¤ç½‘å…³</span></span>
<span class="line"><span class="token key attr-name">dhcp-option</span><span class="token punctuation">=</span><span class="token value attr-value">6,192.168.8.1       # DNS</span></span>
<span class="line">4.æ‰‹æœºã€ç”µè„‘è¿ä¸Šä½ çš„çƒ­ç‚¹åï¼Œä¼šè‡ªåŠ¨åˆ†é… IPï¼Œå¹¶èƒ½é€šè¿‡ä½ ç”µè„‘è®¿é—®è‡ªå»ºæœåŠ¡ã€‚</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h5 id="å¯åŠ¨æœåŠ¡-åœ¨-linux-ä¸Š" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨æœåŠ¡-åœ¨-linux-ä¸Š"><span>å¯åŠ¨æœåŠ¡ï¼ˆåœ¨ Linux ä¸Šï¼‰</span></a></h5><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> systemctl start dnsmasq</span>
<span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> dnsmasq</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>æˆ–è€…ä½¿ç”¨ Docker å¯åŠ¨ï¼ˆå¦‚æœä¸æƒ³æ”¹æœ¬æœºé…ç½®ï¼‰ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--rm</span> <span class="token parameter variable">-p</span> <span class="token number">53</span>:53/udp --cap-add<span class="token operator">=</span>NET_ADMIN <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-v</span> <span class="token variable"><span class="token variable">$(</span><span class="token builtin class-name">pwd</span><span class="token variable">)</span></span>/dnsmasq.conf:/etc/dnsmasq.conf <span class="token punctuation">\\</span> <span class="token comment"># å¯ä»¥ç°åœ¨æœ¬åœ°å®šä¹‰å¥½\`dnsmasq\`çš„é…ç½®æ–‡ä»¶, ç„¶åæŒ‚è½½</span></span>
<span class="line">  andyshinn/dnsmasq</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,19)]))}const d=n(i,[["render",p],["__file","dnsmasqçš„ä½¿ç”¨.html.vue"]]),r=JSON.parse('{"path":"/content/other/spread/dnsmasq%E7%9A%84%E4%BD%BF%E7%94%A8.html","title":"dnsmasqçš„ä½¿ç”¨","lang":"en-US","frontmatter":{"sidebar":false,"title":"dnsmasqçš„ä½¿ç”¨","head":[["meta",{"name":"title","content":"dnsmasqçš„ä½¿ç”¨"}],["meta",{"name":"description","content":"dnsmasqçš„ä½¿ç”¨"}],["meta",{"name":"keywords","content":"dnsmasq,dns,dhcp"}],["meta",{"property":"og:title","content":"dnsmasqçš„ä½¿ç”¨"}],["meta",{"property":"og:description","content":"dnsmasqçš„ä½¿ç”¨"}]]},"headers":[],"git":{},"filePathRelative":"content/other/spread/dnsmasqçš„ä½¿ç”¨.md"}');export{d as comp,r as data};
