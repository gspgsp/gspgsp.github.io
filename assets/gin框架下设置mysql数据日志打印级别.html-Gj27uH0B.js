import{_ as o,c as e,f as c,a as s,o as l,r as a}from"./app-BB_BIQV8.js";const i={};function u(r,n){const t=a("BackBtn"),p=a("CommentService");return l(),e("div",null,[n[0]||(n[0]=c(`<p>gin框架下设置mysql数据日志打印级别：</p><div class="language-go line-numbers-mode" data-highlighter="prismjs" data-ext="go" data-title="go"><pre><code><span class="line"><span class="token keyword">func</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	dsn <span class="token operator">:=</span> viper<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token string">&quot;mysql.db_user_name&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> viper<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token string">&quot;mysql.db_password&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;@tcp(&quot;</span> <span class="token operator">+</span> viper<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token string">&quot;mysql.db_host&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;:&quot;</span> <span class="token operator">+</span> viper<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token string">&quot;mysql.db_port&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;)/&quot;</span> <span class="token operator">+</span> viper<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token string">&quot;mysql.db_database&quot;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;?charset=utf8mb4&amp;parseTime=true&amp;loc=Local&quot;</span></span>
<span class="line">	db<span class="token punctuation">,</span> err <span class="token operator">:=</span> gorm<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>mysql<span class="token punctuation">.</span><span class="token function">Open</span><span class="token punctuation">(</span>dsn<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>gorm<span class="token punctuation">.</span>Config<span class="token punctuation">{</span></span>
<span class="line">		NamingStrategy<span class="token punctuation">:</span> schema<span class="token punctuation">.</span>NamingStrategy<span class="token punctuation">{</span></span>
<span class="line">			TablePrefix<span class="token punctuation">:</span> viper<span class="token punctuation">.</span><span class="token function">GetString</span><span class="token punctuation">(</span><span class="token string">&quot;mysql.db_prefix&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		Logger<span class="token punctuation">:</span> logger<span class="token punctuation">.</span>Default<span class="token punctuation">.</span><span class="token function">LogMode</span><span class="token punctuation">(</span>logger<span class="token punctuation">.</span>Info<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token comment">//这里设置mysql的sql语句打印级别</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">if</span> err <span class="token operator">==</span> <span class="token boolean">nil</span> <span class="token operator">&amp;&amp;</span> db <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span></span>
<span class="line">		Db <span class="token operator">=</span> db</span>
<span class="line">	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">		Log<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;mysql 连接错误&quot;</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2)),s(t),s(p)])}const d=o(i,[["render",u],["__file","gin框架下设置mysql数据日志打印级别.html.vue"]]),m=JSON.parse('{"path":"/content/go/gin/gin%E6%A1%86%E6%9E%B6%E4%B8%8B%E8%AE%BE%E7%BD%AEmysql%E6%95%B0%E6%8D%AE%E6%97%A5%E5%BF%97%E6%89%93%E5%8D%B0%E7%BA%A7%E5%88%AB.html","title":"gin框架下设置mysql数据日志打印级别","lang":"en-US","frontmatter":{"sidebar":false,"title":"gin框架下设置mysql数据日志打印级别","description":"gin框架下设置mysql数据日志打印级别"},"headers":[],"git":{},"filePathRelative":"content/go/gin/gin框架下设置mysql数据日志打印级别.md"}');export{d as comp,m as data};
